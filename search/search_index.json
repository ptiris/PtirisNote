{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Welcome to Ptiris' Note","text":"<p>\u6211\u662f\u76ee\u524d\u5c31\u8bfb\u4e8e\u6d59\u6c5f\u5927\u5b66 23 \u7ea7\u56fe\u7075\u73ed\u7684\u4e00\u540d\u5b66\u751f\uff0c\u4e3b\u4fee\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u3002\u6211\u5c06\u4f1a\u5728\u8fd9\u91cc\u66f4\u65b0\u6211\u7684\u7b14\u8bb0\u3002</p> <ul> <li> <p> Github</p> <p>Ptiris \u7684Github\u4e3b\u9875</p> <p> Click to visit</p> </li> <li> <p> Open Source, CC-BY-NA</p> <p>licensed under Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International </p> <p> License</p> </li> </ul>"},{"location":"metacourses/","title":"Meta","text":"<p>\u8fd9\u91cc\u5c06\u8bb0\u5f55\u7b14\u8005\u5728\u81ea\u5b66\u56fd\u5185\u5916\u4f18\u79c0\u7684\u8bfe\u7a0b\u7684\u7b14\u8bb0\u3002</p> <p>\u611f\u8c22CSDIY\u7684\u63a8\u8350\uff0c\u8ba9\u6211\u63a5\u89e6\u5e76\u4e86\u89e3\u5230\u8fd9\u4e9b\u4f18\u79c0\u7684\u8bfe\u7a0b\u3002</p> <p>Outline</p> <ul> <li> CS 61A Fall 2022</li> <li> CMU 15/445 \u6570\u636e\u5e93\u7cfb\u7edf Fall 2023 By Andy Pavlo &amp; Jignesh Patel</li> </ul>"},{"location":"metacourses/CMU%2015-445/","title":"CMU 15-445 Database Systems","text":"<p>Abstract</p> <p>\u70b9\u51fb \u8fd9\u91cc\u53ef\u4ee5\u8df3\u8f6c\u5230 CSDIY \u4e2d\u7684\u8bb0\u5f55\u3002</p> <p>\u7b14\u8005\u4fee\u4e60\u7684\u7248\u672c\u662f Fall 2023\u3002\u8bfe\u7a0b\u89c6\u9891\u53ef\u4ee5\u5728 bilibili \u4e2d\u627e\u5230\u4e2d\u6587\u5b57\u5e55\u7248\u3002\u4e0e\u8bfe\u7a0b\u76f8\u5173\u7684\u8d44\u6e90\u5747\u53ef\u4ee5\u5728\u8bfe\u7a0b\u7f51\u7ad9\u548c github \u4e2d\u627e\u5230\u3002</p> <p>\u7b14\u8005\u4e5f\u662f\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u521d\u5b66\u8005\uff0c\u6240\u4ee5\u5982\u679c\u6709\u4efb\u4f55\u7684\u95ee\u9898\uff0c\u8bf7\u6307\u51fa\u5e76\u8054\u7cfb\u6211</p>"},{"location":"metacourses/CMU%2015-445/lec1/","title":"Relational Model and Algebra","text":""},{"location":"metacourses/CMU%2015-445/lec1/#database-system","title":"Database System","text":"<p>Database: Organized collection of inter-related data </p> <p>Database Manage System: systems that manage data bases</p> <p>\u6570\u636e\u5e93\u662f\u5b58\u5728\u5185\u90e8\u5173\u8054\u7684\u6570\u636e\u7684\u96c6\u5408\uff08e.g. Excel Table\uff09\uff0c\u800c\u6570\u636e\u5e93\u7cfb\u7edf\u662f\u7ba1\u7406\u6570\u636e\u5e93\u7684\u5de5\u5177\uff08e.g. MySQL,MiniSQL...\uff09\u8fd9\u4e24\u8005\u6709\u7740\u672c\u8d28\u7684\u533a\u522b\u3002</p> <p>Example</p> <p>\u5047\u5982\u6211\u4eec\u73b0\u5728\u6709\u4e00\u4e2a\u97f3\u4e50\u8f6f\u4ef6\u7684\u6570\u636e\u5e93\uff0c\u7528\u4e8e\u8bb0\u5f55\u4f5c\u8005\u548c\u4e13\u8f91:</p> <ul> <li>Information about Artists</li> <li>What Albums those Artists released</li> </ul> <p>\u4e00\u4e2a\u5f88\u81ea\u7136\u7684\u60f3\u6cd5\u662f\u6211\u4eec\u76f4\u63a5\u7528 \u78c1\u76d8\u6587\u4ef6\u6765\u8bb0\u5f55\u8fd9\u4e9b\u4fe1\u606f (e.g. CSV File)\uff0c\u4f8b\u5982\uff0c\u6211\u4eec\u4f1a\u7528\u9017\u53f7\u6765\u5206\u5272\u5404\u4e2a\u9879\u3002</p> <p>Artist(name, year, country) <pre><code>\"Wu-Tang Clan\",1992,\"USA\"\n\"Notorious BIG\",1992,\"USA\"\n\"GZA\",1990,\"USA\"\n</code></pre></p> <p>Album(name, artist, year) <pre><code>\"Enter the Wu-Tang\",\"Wu-Tang Clan\",1993\n\"St.Ides Mix Tape\",\"Wu-Tang Clan\",1994\n\"Liquid Swords\",\"GZA\",1990\n</code></pre></p> <p>\u663e\u7136\uff0c\u8fd9\u6837\u7684 FLAT FILES \u6709\u5f88\u591a\u7684\u7f3a\u70b9\uff0c\u6bd4\u5982\uff1a\u67e5\u8be2\u65f6\u5fc5\u987b\u5c55\u5f00\u904d\u5386\u6240\u6709\u7684\u4fe1\u606f\u548c\u6761\u76ee</p> <p>\u5047\u5982\u6211\u4eec\u60f3\u8981\u5728 Artist \u4e2d\u67e5\u627e GZA \u8fd9\u4e00\u9879\u7684\u4fe1\u606f <pre><code>for line in file.readlines():\nrecord = parse(line)\nif record[0] == \"GZA\":\nprint(int(record[1]))\n</code></pre></p> <ul> <li>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d FLAT FILES \u7684\u4e00\u4e9b\u95ee\u9898\uff1a<ul> <li>\u6570\u636e\u5b8c\u6574\u6027<ul> <li>\u6211\u4eec\u5982\u4f55\u786e\u5b9a\u5bf9\u4e8e\u540c\u4e00\u5f20\u4e13\u8f91\u7684\u4f5c\u8005\u662f\u540c\u4e00\u4e2a\u5462\uff1f\uff08e.g. \u6625\u65e5\u5f71\uff09</li> <li>\u5982\u679c\u6709\u4eba\u62ff\u975e\u6cd5\u7684\u5b57\u7b26\u4e32\u6765\u4fee\u6539\u4e13\u8f91\u5e74\u4efd\u5462\uff1f</li> <li>\u5982\u679c\u4e00\u5f20\u4e13\u8f91\u6709\u591a\u4e2a\u4f5c\u8005\u53c2\u4e0e\u5462\uff1f(e.g. \u6625\u65e5\u5f71)</li> <li>\u5982\u679c\u6211\u4eec\u5220\u9664\u4e86\u67d0\u4e2a\u6709\u4e13\u8f91\u7684\u4f5c\u8005\u5462\uff1f(e.g. ok\u8fd9\u6b21\u662f\u5e93\u6765\u5e93\u897f)</li> </ul> </li> <li>\u6570\u636e\u5e93\u7684\u5b9e\u73b0<ul> <li>\u4f60\u8be5\u5982\u4f55\u67e5\u627e\u4e00\u4e2a\u7279\u5b9a\u7684\u4e13\u8f91\u5462\uff1f</li> <li>\u5f53\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u65b0\u7684app\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u540c\u4e00\u4e2a\u6570\u636e\u5e93\u5417\uff1f\u5982\u679c\u6211\u4eec\u6709\u591a\u4e2a\u8bbe\u5907\u540c\u65f6\u8bbf\u95ee\u5462\uff1f</li> <li>\u5982\u679c\u5b58\u5728\u4e24\u4e2a\u8fdb\u7a0b\u540c\u65f6\u5199\u5165\u6570\u636e\u5462\uff1f</li> </ul> </li> <li>\u6570\u636e\u7684\u7ef4\u62a4<ul> <li>\u5f53\u5728\u4fee\u6539\u4e00\u4e2a\u6570\u636e\u65f6\uff0c\u7a0b\u5e8f\u5d29\u6e83\u4e86\u600e\u4e48\u529e\uff1f</li> <li>\u5f53\u4e00\u4e2a\u6570\u636e\u5e93\u88ab\u53cd\u590d\u8bbf\u95ee\u65f6\uff0c\u6211\u4eec\u60f3\u590d\u5236\u8be5\u600e\u4e48\u529e\uff1f</li> </ul> </li> </ul> </li> </ul>"},{"location":"metacourses/CMU%2015-445/lec1/#dbsm-data-models","title":"DBSM &amp; DATA MODELS","text":"<p>DATA BASE MANAGEMENT SYSTEM\uff08DBSM\uff09\u53ef\u4ee5\u4f7f\u5e94\u7528\u5bf9\u6570\u636e\u8fdb\u884c\u5b58\u50a8\u548c\u5206\u6790\u3002</p> <p>\u4e00\u4e2aDBSM\u5e94\u8be5\u652f\u6301: definition,creation, querying, update,  administration</p> <p>Data Models \u6570\u636e\u6a21\u578b\u662f\u4e00\u7ec4\u7528\u4e8e\u63cf\u8ff0\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684**\u6a21\u578b**\u3002Schema \u662f\u5728\u7ed9\u5b9a Data Models \u7684\u60c5\u51b5\u4e0b\u5bf9\u4e00\u7ec4\u7279\u5b9a\u6570\u636e\u7684\u63cf\u8ff0\u3002</p> <p>\u5e38\u89c1\u7684 Data Models:</p> <ul> <li>Relational </li> <li>Key/Value</li> <li>Graph</li> <li>Document / XML / Object</li> <li>Wide-Column / Column-family</li> <li>Array / Matrix / Vectors</li> <li>Hierarchical</li> <li>Network</li> <li>Multi-Value</li> </ul> <p>\u5bf9\u4e8e\u7edd\u5927\u90e8\u5206\u7684\u6570\u636e\u5e93\u800c\u8a00\uff0c\u90fd\u4f7f\u7528\u5173\u7cfb\uff08Relation\uff09\uff0c\u6765\u4f5c\u4e3a Data Model \uff0c\u800cNoSQL\u7684\u6570\u636e\u5e93\u5219\u4f7f\u7528Key/Value\u3001Graph\u3001Document / XML / Object\u3002\u673a\u5668\u5b66\u4e60\u4f7f\u7528\u7684\u662f Array / Matrix / Vectors\uff0c\u800c\u6700\u540e\u7684\u4e09\u79cd\u5219\u8f83\u4e3a\u8fc7\u65f6\u4e0e\u7f55\u89c1\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec1/#relational-model","title":"RELATIONAL MODEL","text":"<p>Relational Model \u901a\u8fc7\u5173\u7cfb\u6765\u62bd\u8c61\u6570\u636e\uff0c\u6765\u907f\u514d\u989d\u5916\u7684\u5f00\u9500\u3002\u5176\u5173\u952e\u5728\u4e8e\uff1a</p> <ul> <li>\u901a\u8fc7\u7b80\u5355\u7684\u6570\u636e\u7ed3\u6784\u6765\u50a8\u5b58\u6570\u636e\u5e93</li> <li>\u7269\u7406\u5c42\u9762\u7684\u50a8\u5b58\u7531 DBMS \u7684\u5177\u4f53\u5b9e\u73b0\u6765\u51b3\u5b9a</li> <li>\u5728\u5e94\u7528\u5c42\u8bbf\u95ee\u3001\u4fee\u6539\u6570\u636e\u65f6\uff0c\u7531DBMS\u6765\u51b3\u5b9a\u5177\u4f53\u7684\u6700\u4f73\u7684\u7b56\u7565</li> </ul> <p>\u6784\u5efa\u4e00\u4e2a\u5173\u7cfb\u6570\u636e\u6a21\u578b\uff1a0</p> <ul> <li>\u6211\u4eec\u8be5\u5982\u4f55\u5b9a\u4e49\u5176\u7ed3\u6784\uff1f\u5173\u7cfb\u4e2d\u5305\u542b\u4e86\u54ea\u4e9b\u5185\u5bb9\uff1f</li> <li>\u6211\u4eec\u8be5\u5982\u4f55\u786e\u4fdd\u6570\u636e\u5e93\u7684\u5185\u5bb9\u7684\u5408\u6cd5\u6027\uff1f</li> <li>\u6211\u4eec\u8be5\u5982\u4f55\u7f16\u7a0b\u5b9e\u73b0\u67e5\u627e\u548c\u5220\u9664\u6570\u636e\u5e93\u7684\u5185\u5bb9\uff1f</li> </ul> <p>Quote</p> <p>A relation is an unordered set that contain the relationship of attributes that represent entities.</p> <p>A tuple is a set of attribute values (also known as its domain) in the relation.</p> <p>\u2014\u2014\u300a\u79bb\u6563\u6570\u5b66\u53ca\u5176\u5e94\u7528\u300b</p> <p>tips : \u901a\u5e38\u800c\u8a00\uff0c\u6570\u636e\u503c\u90fd\u662f\u6807\u91cf\u3002\u4f46\u540c\u65f6 NULL \u53ef\u4ee5\u4f5c\u4e3a\u4efb\u610f\u5143\u7ec4\u7684\u503c\u3002</p> <p>Primary Key: \u53ef\u4ee5 \u552f\u4e00 \u7684\u786e\u5b9a\u4e00\u4e2a Tuple\u3002\u5f53\u4e00\u5f20\u8868\u683c\u6ca1\u6709\u4e00\u4e2a Primary Key \u7684\u65f6\u5019\uff0c\u90e8\u5206 DBMS \u4f1a\u81ea\u52a8\u7684\u751f\u6210\u4e00\u4e2a Primary Key\u3002</p> Example <p> Artist(id,name,year,country) id name year country 101 \"Wu-Tang Clan 1992 \"USA\" 102 \"Notorious BIG 1992 \"USA\" 103 \"GZA 1990 \"USA\" <p> \u4f8b\u5982\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0cid\u4e0e\u6bcf\u4e00\u4e2atuple\u5c31\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002</p> <p>Foreign key: \u6bcf\u4e2a\u6570\u636e\u8868\u90fd\u662f\u7531\u5173\u7cfb\u6765\u8fde\u7cfb\u5f7c\u6b64\u7684\u5173\u7cfb\uff0c\u4e3b\u952e\uff08Primary Key\uff09\u4f1a\u653e\u5728\u53e6\u4e00\u4e2a\u6570\u636e\u8868\uff0c\u5f53\u505a\u5c5e\u6027\u4ee5\u5efa\u7acb\u5f7c\u6b64\u7684\u5173\u7cfb\uff0c\u800c\u8fd9\u4e2a\u5c5e\u6027\u5c31\u662fForeign Key\u3002</p> Example <p>\u7ee7\u7eed\u8003\u8651\u6211\u4eec\u4e4b\u524d\u9009\u7528\u7684\u4f8b\u5b50\uff1a  Album(id,name,artist,year) id name artist year 11 \"Enter the Wu-Tang\" 101 1993 12 \"St.Ides Mix Tape\" 102 1994 13 \"Liquid Swords\" 103 1995 <p>\u6b64\u65f6\uff0c\u6211\u4eec\u5c06 artist \u7684 Primary Key \u4e0e Album \u7684 Primary Key \u653e\u5728\u4e00\u8d77,\u7684 attribute \u8fd9\u6837\u5c31\u53eb\u505aForeign Key</p> <p> Album(id,name,artist,year) artist_id album_id 101 11 102 12 103 13 <p></p> <p>Constraints:\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u89c4\u8303\u548c\u7ea6\u5b9a\u3002\u53ef\u4ee5\u662f\u7528\u6237\u6307\u5b9a\u7684\uff0c\u4e5f\u53ef\u80fd\u662f\u7cfb\u7edf\u6240\u89c4\u5b9a\u7684\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec1/#data-manipulation-languages","title":"DATA MANIPULATION LANGUAGES","text":"<p>\u6570\u636e\u64cd\u7eb5\u8bed\u8a00\uff08DML\uff09\u7528\u4e8e\u63cf\u8ff0\u6570\u636e\u5e93\u4e2d\u5b58\u50a8\u3001\u7f16\u8f91\u4fe1\u606f\u7684\u65b9\u5f0f\u3002</p> <ul> <li>Procedural: \u51c6\u786e\u7684\u5b9a\u4e49\u4e86\u6211\u4eec\u67e5\u627e\u7b49\u64cd\u4f5c\u91c7\u7528\u7684\u7b56\u7565\u3002 &lt;-Relational Algebra</li> <li>Non-Procedural: \u53ea\u786e\u5b9a\u4e86\u6240\u9700\u7684\u4fe1\u606f\uff0c\u6ca1\u6709\u6307\u5b9a\u6211\u4eec\u7684\u7b56\u7565\u3002\uff08\u7531DBMS\u51b3\u5b9a\uff09&lt;-Relational Calculus</li> </ul>"},{"location":"metacourses/CMU%2015-445/lec1/#relational-algebra","title":"RELATIONAL ALGEBRA","text":"Select Projection Union Intersection Difference Product Join \\(\\sigma\\) \\(\\pi\\) \\(\\cup\\) \\(\\cap\\) \\(-\\) \\(\\times\\) \\(\\Join\\)"},{"location":"metacourses/CMU%2015-445/lec1/#select","title":"SELECT","text":"<p>\u6839\u636e\u6211\u4eec\u8c13\u8bed(predicate)\uff0c\u4ece\u4e00\u4e2a\u5173\u7cfb\u4e2d\u9009\u62e9\u4e00\u4e2a\u5143\u7ec4\u7684\u5b50\u96c6\u3002\uff08\u8c13\u8bed\u5c31\u662f\u6211\u4eec\u7684\u6761\u4ef6\uff09</p> <p>\u4f7f\u7528\u7684\u5f62\u5f0f\uff1a \\(\\sigma_{predicate}(R)\\)</p> Example <p> <p>R(a_id,b_id)</p> a_id b_id a1 101 a2 102 a2 103 a3 104 <p></p> <p> <p>\\(\\sigma_{a\\_id = \\'{} a2 \\'{} \\land b\\_id &gt; 102} (R)\\)</p> a_id b_id a2 103 <p> \u800c\u8fd9\u91cc\u7b49\u4ef7\u4e8e <pre><code>SELECT * FROM R\n    WHERE a_id = 'a2' AND b_id &gt;  102\n</code></pre></p>"},{"location":"metacourses/CMU%2015-445/lec1/#projection","title":"PROJECTION","text":"<p>\u6839\u636e\u6307\u5b9a\u7684\u5c5e\u6027\uff0c\u4ece\u5143\u7ec4\u4e2d\u751f\u6210\u4e00\u4e2a\u5173\u7cfb\u3002\u53ef\u80fd\u6d89\u53ca\u5230\uff1a - \u91cd\u65b0\u6392\u5217\u5c5e\u6027 - \u5220\u9664\u4e0d\u9700\u8981\u7684\u5c5e\u6027 - \u5bf9\u5c5e\u6027\u7684\u503c\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\uff0c\u6765\u5f97\u5230\u6211\u4eec\u60f3\u8981\u7684\u5c5e\u6027</p> <p>\u4f7f\u7528\u7684\u5f62\u5f0f\uff1a \\(\\pi_{A1,A2,\\dots,An}(R)\\)</p> Example <p> <p>R(a_id,b_id)</p> a_id b_id a1 101 a2 102 a2 103 a3 104 <p></p> <p> <p>\\(\\pi_{b\\_id - 100,a\\_id}(\\sigma_{a\\_id = \\'{} a2 \\'{} } (R))\\)</p> b_id - 100 a_id 2 a2 3 a2 <p> \u800c\u8fd9\u91cc\u7b49\u4ef7\u4e8e <pre><code>SELECT b_id-100, a_id\n    FROM R WHERE a_id = 'a2';\n</code></pre></p>"},{"location":"metacourses/CMU%2015-445/lec1/#union-intersection","title":"UNION &amp; INTERSECTION","text":"<p>\u751f\u6210\u4e24\u4e2a\u5173\u7cfb\u7684\u5e76\u6216\u4ea4\u3002</p> <p>\u4f7f\u7528\u7684\u5f62\u5f0f\uff1a \\(R \\bigcup S\\) \u6216 \\(R \\bigcap S\\) </p>"},{"location":"metacourses/CMU%2015-445/lec1/#difference","title":"DIFFERENCE","text":"<p>\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u5173\u7cfb\uff0c\u53ea\u5305\u542b\u5728\u7b2c\u4e00\u4e2a\u5173\u7cfb\u4e2d\uff0c\u4f46\u4e0d\u5728\u7b2c\u4e8c\u4e2a\u5173\u7cfb\u4e2d\u7684\u5143\u7ec4\u3002</p> <p>\u4f7f\u7528\u7684\u5f62\u5f0f\uff1a \\(R - S\\) </p> Example <p>\u5047\u5982\u6211\u4eec\u6709\u5173\u7cfb R \u548c S:  <p>R(a_id,b_id)</p> a_id b_id a1 101 a2 102 a2 103 <p></p> <p> <p>S(a_id,b_id)</p> a_id b_id a3 103 a4 104 a5 105 <p></p> <p> <p>R-S(a_id,b_id)</p> a_id b_id a1 101 a2 102 <p> \u800c\u8fd9\u91cc\u7b49\u4ef7\u4e8e <pre><code>(SELECT * FROM R)\n    EXCEPT\n(SELECT * FROM S);\n</code></pre></p>"},{"location":"metacourses/CMU%2015-445/lec1/#product","title":"PRODUCT","text":"<p>\u4ece\u4e24\u4e2a\u5173\u7cfb\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u5173\u7cfb\uff0cde facto\u5176\u5305\u542b\u539f\u5173\u7cfb\u4e2d\u5143\u7ec4\u6240\u6709\u7684\u7ec4\u5408\u3002</p> <p>\u4f7f\u7528\u7684\u65b9\u5f0f\uff1a \\(R \\times S\\)</p> Example <p>\u5047\u5982\u6211\u4eec\u6709\u5173\u7cfb R \u548c S:  <p>R(a_id,b_id)</p> a_id b_id a1 101 a2 102 a2 103 <p></p> <p> <p>S(a_id,b_id)de facto |:--:|:--:| |a3|103| |a4|104| |a5|105|</p> <p></p> <p> <p>R \\(\\times\\) S</p> R.a_id R.b_id S.a_id S.b_id a1 101 a3 103 a1 101 a4 104 a1 101 a5 105 a2 102 a3 103 a2 102 a4 104 a2 102 a5 105 a3 103 a3 103 a3 103 a4 104 a3 103 a5 105 <p></p> <pre><code>SELECT * FROM R CROSS JOIN S;\n</code></pre>"},{"location":"metacourses/CMU%2015-445/lec1/#join","title":"JOIN","text":"<p>\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u5173\u7cfb\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u524d\u4e24\u4e2a\u5173\u7cfb\u5143\u7ec4\u7684\u7ec4\u5408\uff0c\u5e76\u4e14\u8fd9\u4e9b\u5143\u7ec4\u5177\u6709\u5171\u6709\u7684\u5c5e\u6027\u503c\u3002</p> <p>\u4f7f\u7528\u7684\u65b9\u6cd5\uff1a (R \\(Join\\) S)</p> Example <p>\u5047\u5982\u6211\u4eec\u6709\u5173\u7cfb R \u548c S:  <p>R(a_id,b_id)</p> a_id b_id a1 101 a2 102 a2 103 <p></p> <p> <p>S(a_id,b_id,val)</p> a_id b_id val a3 103 xxx a4 104 yyy a5 105 zzz <p></p> <p> <p>R \\(\\Join\\) S</p> a_id b_id val a3 103 xxx <p></p> <pre><code>SELECT * FROM R NATURAL JOIN S;\n</code></pre> <p>\u6211\u4eec\u8fd8\u6709\u66f4\u591a\u7684\u5173\u7cfb\u7b97\u7b26\uff1a</p> <ul> <li>Rename \\(\\rho\\)</li> <li>Assignment \\(R \\leftarrow S\\)</li> <li>Duplicate Elimination \\(\\delta\\)</li> <li>Aggregation \\(\\gamma\\)</li> <li>Sorting \\(\\Tau\\)</li> <li>Division \\(R \\div S\\)</li> </ul> <p>\u57fa\u4e8e\u5173\u7cfb\u4ee3\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u67e5\u8be2\u7684\u8fc7\u7a0b\u8fdb\u884c\u65b9\u6cd5\u7684\u4f18\u5316\u3002\u4f8b\u5982 \\(S \\Join(\\sigma_{a\\_id = 100}(R))\\) \u4e0e \\(\\sigma_{a\\_id = 100}(S\\Join R)\\) \u5728\u6027\u80fd\u4e0a\u5c06\u4f1a\u6709\u5de8\u5927\u7684\u5dee\u5f02\u3002DBMS \u5728\u5173\u7cfb\u4ee3\u6570\u7684\u5e2e\u52a9\u4e0b\u53ef\u4ee5\u66f4\u597d\u5730\u4f18\u5316\u8fd9\u4e2a\u8fc7\u7a0b\uff08\u7c7b\u4f3c\u4e8e\u7f16\u8bd1\u5668\uff09\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec2/","title":"Mordern SQL","text":""},{"location":"metacourses/CMU%2015-445/lec2/#relational-languages","title":"RELATIONAL LANGUAGES","text":"<p>\u5173\u7cfb\u8bed\u8a00\u4e3b\u8981\u5305\u542b\u4e09\u79cd\uff1a</p> <ul> <li>Data Manipulation Language (DML)</li> <li>Data Definition Language (DDL)</li> <li>Data Control Language (DCL)</li> </ul> <p>\u5176\u4e2d DML \u6211\u4eec\u5728\u7b2c\u4e00\u8282\u4e2d\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\u3002DDL \u9002\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5e93\u4e2d\u7684\u8868\u7b49\u7ed3\u6784\u7684\u8bed\u8a00\uff0c\u800cDCL\u662f\u7528\u4e8e\u6570\u636e\u5e93\u7684\u5b89\u5168\u7ef4\u62a4\u7684\u8bed\u8a00(i.e. \u6743\u9650\u7b49)\u3002</p> <p>Warning</p> <p>\u9700\u8981\u989d\u5916\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0cSQL \u662f\u57fa\u4e8e bags(\u53ef\u80fd\u5b58\u5728\u590d\u5236)\u6765\u5b9e\u73b0\u7684\uff0c\u800c\u5173\u7cfb\u662f\u5efa\u7acb\u5728\u96c6\u5408\u4e0a\u7684\uff08\u4e0d\u53ef\u80fd\u5b58\u5728\u91cd\u590d\uff09\u3002</p> <p>\u8fd9\u4e00\u8282\u4e3b\u8981\u6d89\u53caSQL\u7684</p> <ul> <li>Aggregations + Group By</li> <li>String / Date / Time Operations</li> <li>Output Control + Redirection</li> <li>Window Functions</li> <li>Nested Queries</li> <li>Lateral Joins</li> <li>Common Table Expressions</li> </ul> <p>\u5728\u672c\u8282\u4e2d\u6211\u4eec\u5047\u8bbe\u6709\u4ee5\u4e0b\u7684\u6570\u636e\u5e93\u3002 </p>"},{"location":"metacourses/CMU%2015-445/lec2/#aggregates","title":"AGGREGATES","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u5355\u4e00\u7684\u503c\uff0c\u4e00\u822c\u662f\u5bf9\u4e8e\u4e00\u7cfb\u5217\u5143\u7ec4\u7684\u8ba1\u7b97\u3002</p> <ul> <li>AVG(col)  \u2192 Return the average col value.</li> <li>MIN(col)  \u2192 Return minimum col value.</li> <li>MAX(col)  \u2192 Return maximum col value.</li> <li>SUM(col)  \u2192 Return sum of values in col.</li> <li>COUNT(col)\u2192 Return # of values for col.</li> </ul> Example <p>\u5f53\u6211\u4eec\u9700\u8981\u7edf\u8ba1\u6709\u591a\u5c11\u5b66\u751f\u7684 login \u4e2d\u6709 '@cs' \uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7</p> <p><pre><code>SELECT COUNT(login) AS cnt\n  FROM student WHERE login LIKE '%@cs'\n</code></pre> \u5f53\u6211\u4eec\u7edf\u8ba1\u8fd9\u4e9b\u5b66\u751f\u7684\u5e73\u5747\u7ee9\u70b9</p> <pre><code>SELECT AVG(gpa), COUNT(sid)\n  FROM student WHERE login LIKE '%@cs'\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\uff0cCOUNT\u62ec\u53f7\u4e2d\u7684\u4e1c\u897f\u5e76\u4e0d\u91cd\u8981\uff0c\u56e0\u4e3a\u6b64\u65f6\u6570\u636e\u5e93\u7cfb\u7edf\u77e5\u9053\u6211\u4eec\u53ea\u9700\u8981\u7edf\u8ba1\u6570\u91cf\uff0c\u800c\u5e76\u975e\u8ba1\u7b97\u5176\u503c\u3002</p> <p>\u6211\u4eec\u4e0d\u80fd\u591f\u5728AGGREGATE\u5916\u9762\u76f4\u63a5\u5408\u5e76\u5176\u4ed6\u7684\u884c\uff0c\u8fd9\u662f\u4e00\u4e2a\u672a\u5b9a\u4e49\u7684\u884c\u4e3a\u3002\uff08\u56e0\u4e3a\u4ed6\u4eec\u53ef\u80fd\u5177\u6709\u4e0d\u540c\u7684\u957f\u5ea6\uff0c\u5e76\u4e14\u6beb\u65e0\u610f\u4e49\uff09 \u4f8b\u5982\uff0c\u4e0b\u9762\u7684\u884c\u4e3a\u6beb\u65e0\u610f\u4e49\u3002  \u6240\u4ee5\u5982\u679c Non-aggregate \u5728 SELECT \u4e2d\u51fa\u73b0\u65f6\uff0c\u4e00\u5b9a\u9700\u8981\u548c GROUP BY \u8bed\u53e5\u76f8\u8fde\u3002 \u6b63\u786e\u7684\u505a\u6cd5\u662f:</p> <p><pre><code>SELECT AVG(s.gpa), e.cid\n    FROM enrolled AS e JOIN student AS s\n    ON e.sid = s.sid\n    GROUP BY e.cid\n</code></pre> </p> <p>\u9996\u5148\u6211\u4eec\u901a\u8fc7 JOIN \u8bed\u53e5\u83b7\u5f97\u4e86 e \u4e0e s \u6240\u6709\u53ef\u80fd\u7684\u7ec4\u5408\uff0c\u7136\u540e\u6211\u4eec\u901a\u8fc7 <code>e.sid = s.sid</code> \u8fd9\u4e2a\u6761\u4ef6\u6765\u8fdb\u884c\u7b5b\u9009\u3002\u7136\u540e\u6211\u4eec\u6839\u636e e.cid \u8fdb\u884c\u5206\u7ec4\uff0c\u5206\u522b\u8ba1\u7b97\u6bcf\u4e00\u7ec4\u7684\u5e73\u5747\u7ee9\u70b9\u3002\u8fd9\u6837\u7684 aggregate \u8bed\u53e5\u624d\u662f\u6709\u610f\u4e49\u7684\u3002</p> <p>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u51fa\u73b0\u7684\u975e aggregate \u7684\u503c\uff0c\u6211\u4eec\u90fd\u9700\u8981\u5c06\u5176\u653e\u5165 GROUP BY \u4e2d\u3002 <pre><code>SELECT AVG(s.gpa), e.cid, s.name\n    FROM enrolled AS e JOIN student AS s\n    ON e.sid = s.sid\n    GROUP BY e.cid, s.name\n</code></pre></p> <p>\u73b0\u5728\u6211\u4eec\u8003\u8651\u5bf9 aggregate \u7684\u8ba1\u7b97\u7ed3\u679c\u8fdb\u884c\u7b5b\u9009\uff0c\u6211\u4eec\u9700\u8981\u7528\u5230 HAVING \u8bed\u53e5\u3002\uff08\u5176\u5b9e\u76f8\u5f53\u4e8e GROUP BY \u7684 WHERE\uff09</p> <p>\u4f8b\u5982\u6211\u4eec\u60f3\u67e5\u770b\u4e0a\u9762\u7ed3\u679c\u4e2d GPA \u5927\u4e8e 3.9 \u7684\u503c\u3002</p> <p><pre><code>SELECT AVG(s.gpa), e.cid\n  FROM enrolled AS e JOIN student AS s\n    ON e.sid = s.sid\n GROUP BY e.cid\nHAVING AVG(s.gpa) &gt; 3.9;\n</code></pre> \u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u7684\u7ed3\u679c </p>"},{"location":"metacourses/CMU%2015-445/lec2/#string","title":"STRING","text":""},{"location":"metacourses/CMU%2015-445/lec2/#string-type","title":"STRING TYPE","text":"<p>\u4e0d\u540c\u7684 SQL \u7684\u5b9e\u73b0\u91c7\u53d6\u4e86\u4e0d\u540c\u7684\u5b57\u7b26\u4e32\u7c7b\u578b\u3002<code>MySQL</code> \u7684\u5b57\u7b26\u4e32\u6700\u4e3a\u7279\u522b\uff0c\u56e0\u4e3a\u5728\u5b57\u7b26\u4e32\u8ba1\u7b97\u65f6\u5bf9\u4e8e\u5927\u5c0f\u5199\u5e76\u4e0d\u654f\u611f\u3002</p> <p> Version String Case String Quotes SQL-92 Sensitive Single Only Postgres Sensitive Single Only MySQL Insensitive Single/Double SQLite Sensitive Single/Double MSSQL Sensitive Single Only Oracle Sensitive Single Only <p></p>"},{"location":"metacourses/CMU%2015-445/lec2/#string-operations","title":"STRING OPERATIONS","text":""},{"location":"metacourses/CMU%2015-445/lec2/#like","title":"LIKE \u5b57\u7b26\u4e32\u5339\u914d","text":"<p>LIKE \u5173\u952e\u5b57\u53ef\u4ee5\u7528\u4e8e\u5b57\u7b26\u4e32\u7684\u5339\u914d\u3002\u8fd9\u4e0e Linux \u4e0b\u7684\u901a\u914d\u7b26\u6bd4\u8f83\u7c7b\u4f3c\u3002</p> <ul> <li>'%' \u53ef\u4ee5\u5339\u914d\u4efb\u4f55\u7684\u5b50\u4e32\uff08\u5305\u62ec\u7a7a\u7684\u5b57\u7b26\u4e32\uff09</li> <li>'_' \u53ef\u4ee5\u5339\u914d\u4e00\u4e2a\u5b57\u7b26\uff08\u4f46\u8981\u6c42\u5b57\u7b26\u4e0d\u80fd\u4e3a\u7a7a\uff09</li> </ul> <p>\u540c\u65f6\u4e5f\u652f\u6301\u5b57\u7b26\u4e32\u6b63\u5219\u5339\u914d\u3002\uff08\u4f46ANDY\u4e5f\u4e0d\u77e5\u9053SQL\u6807\u51c6\u7684\u662f\u5426\u652f\u6301\u8fd9\u4e2a\uff09</p> <p>\u4f8b\u5982: <pre><code>SELECT * FROM enrolled AS e\n  WHERE e.cid LIKE '15-%'\n\nSELECT * FROM student AS s\nWHERE s.login LIKE '%@c_'\n</code></pre></p> <p>SQL \u8fd8\u5b9a\u4e49\u4e86\u4e0d\u5c11\u7684\u5b57\u7b26\u4e32\u51fd\u6570\uff0c\u4f8b\u5982 CONCAT \u8fde\u63a5\u5b57\u7b26\u4e32\u3001 SUBSTRING \u88c1\u526a\u5b57\u7b26\u5b50\u4e32 \u3001UPPER\u7528\u4e8e\u5c0f\u5199\u8f6c\u5927\u5199\u3002</p> <pre><code>SELECT SUBSTRING(name,1,5) AS abbrv_name\n FROM student WHERE sid = 53688   -- \u4ece\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\uff0c\u8fde\u7eed\u7684\u4e94\u4e2a\u5b57\u7b26\n\nSELECT * FROM student AS s\nWHERE UPPER(s.name) LIKE 'KAN%'   -- \u5168\u90e8\u8f6c\u6362\u4e3a\u5927\u5199\n</code></pre> <p>\u4f46\u6211\u4eec\u9700\u8981\u989d\u5916\u6ce8\u610f\u5b57\u7b26\u4e32\u7684\u8fde\u63a5</p> <p>Warning</p> <p>\u5728\u4e0d\u540c\u7684DBMS\u4e2d\u5bf9\u4e8e\u5b57\u7b26\u4e32\u8fde\u63a5\u6709\u7740\u4e0d\u540c\u7684\u89c4\u5b9a\u3002</p> <pre><code>SELECT name FROM student\nWHERE login = LOWER(name) || '@cs'  -- SQL 92 Standard\n\nSELECT name FROM student\nWHERE login = LOWER(name) + '@cs'   -- MSSQL \n\nSELECT name FROM student\nWHERE login = CONCAT(LOWER(name), '@cs') -- MySQL\n</code></pre>"},{"location":"metacourses/CMU%2015-445/lec2/#date-and-time","title":"DATE AND TIME","text":"<p>\u4e8b\u5b9e\u4e0a\u5728SQL\u4e2d DATE \u3001 TIME \u548c TIMESTAMP \u662f\u4e09\u79cd\u4e0d\u540c\u7684\u7c7b\u578b\u3002\u4f46\u662f\u7531\u4e8e\u5404\u4e2a\u7248\u672c\u7684\u5b9e\u73b0\u90fd\u4e0d\u5c3d\u76f8\u540c\uff0c\u8fd9\u91cc\u7684\u5b9e\u9645\u60c5\u51b5\u6bd4\u8f83\u590d\u6742\uff1a\u90e8\u5206\u6570\u636e\u5e93\u53ef\u4ee5\u7528 NOW \u51fd\u6570\u6765\u83b7\u53d6\u5f53\u524d\u7684\u65e5\u671f\u548c\u65f6\u95f4\u6233\uff1bSQL \u6807\u51c6\u89c4\u5b9a\u4e86 CURRENT_TIMESTAMP \u8fd9\u4e2a\u5173\u952e\u5b57\u3002\uff08\u4f46\u5728 MySQL \u4e2d\u8fd9\u91cc\u5c45\u7136\u4e5f\u53ef\u4ee5\u662f\u4e2a\u51fd\u6570\uff09\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 DATE() \u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u53ef\u4ee5\u901a\u8fc7CAST \u8fdb\u884c\u8f6c\u6362\u3002\u6709\u7684\u6570\u636e\u5e93 DATE \u7c7b\u578b\u53ef\u4ee5\u76f4\u63a5\u76f8\u51cf\uff1b\u6709\u7684\u4e0d\u80fd\uff0c\u4f46\u6709 DATEDIFF \u51fd\u6570\uff08\u5bf9\uff0c\u53c8\u662f MySQL\uff09\u3002\u6240\u4ee5\u5177\u4f53\u7684\u64cd\u4f5c\u9700\u8981\u53c2\u8003\u5177\u4f53\u7684DBMS\u5b9e\u73b0\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec2/#output-redirection","title":"OUTPUT REDIRECTION","text":"<p>\u5728 SQL \u6807\u51c6\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5411Linux \u7684\u7ba1\u9053\u4e00\u6837\u91cd\u5b9a\u5411\u8f93\u51fa\u3002\u4f46\u540c\u6837\u7684\uff0c\u8fd9\u91cc\u5b58\u5728\u8bf8\u591a\u7684\u8bed\u6cd5\u5dee\u5f02\uff0c\u4f8b\u5982\uff1a</p> <pre><code>SELECT DISTINCT cid INTO CourseIds\n FROM enrolled;                        -- SQL 92\n\nCREATE TABLE CourseIds (\n SELECT DISTINCT cid FROM enrolled);   -- MySQL\n\nSELECT DISTINCT cid\n INTO TEMPORARY CourseIds\n FROM enrolled;                        -- Postgres\n</code></pre> <p>\u8fd9\u91cc\u6709\u4e24\u79cd\u53ef\u80fd\u7684\u60c5\u51b5\uff0c\u4e00\u79cd\u662f\u6211\u4eec\u91cd\u5b9a\u5411\u7684\u8868\u683c\u672a\u5b9a\u4e49\uff0c\u6b64\u65f6\u5c06\u4f1a\u65b0\u5efa\u4e00\u4e2a\u8868\u3002\u53e6\u4e00\u79cd\u662f\u8868\u683c\u5df2\u5b58\u5728\uff0c\u6211\u4eec\u5c06\u7ed3\u679c\u62fc\u63a5\u5230\u8868\u683c\u540e(\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u6b64\u65f6\u4e00\u5b9a\u6709\u76f8\u540c\u7684\u5217\u6570)\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec2/#window-functions","title":"WINDOW FUNCTIONS","text":"<p>WINDOW FUNCTION \u7c7b\u4f3c\u4e8e Python \u4e2d\u7684\u5207\u7247\u7684\u64cd\u4f5c\u3002\u8fd9\u91cc\u7684 WINDOW \u76f8\u5f53\u4e8e\u4e00\u4e2a\u6ed1\u7a97\uff0c\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a FUNCTION \u6240\u4f5c\u7528\u7684\u8303\u56f4\u548c\u65b9\u5f0f\u3002</p> <p>Sytax: <code>SELECT ... FUNC-NAME(...) OVER (...)  FROM tableName</code></p> <p>\u4f8b\u5982\u5982\u679c\u6211\u4eec\u60f3\u83b7\u5f97\u5b66\u751f\u6ce8\u518c\u8868\u683c\u4e2d\u7684\u884c\u6570:</p> <ul> <li>ROW_NUMBER()\u2192 # of the current row</li> <li>RANK()\u2192 Order position of the current row.</li> </ul> <pre><code>SELECT *, ROW_NUMBER() OVER () AS row_num\n FROM enrolled\n</code></pre> <p></p> <p>\u4f46\u540c\u6837\u7684\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 PARTITION BY \u6765\u6307\u5b9a\u6211\u4eec\u7684\u5206\u7c7b\uff0c\u8fd9\u91cc\u76f8\u5f53\u4e8e\u6309\u7167\u8bfe\u7a0b\u8fdb\u884c\u5206\u7c7b\u3002\u4e8e\u662f\u6211\u4eec\u7684 ROW_NUMBER \u5c31\u53d8\u4e3a\u4e86\u4ece\u6bcf\u4e00\u7c7b\u4e2d\u8ba1\u7b97\u7684\u884c\u6570\u3002</p> <pre><code>SELECT cid, sid,\n ROW_NUMBER() OVER (PARTITION BY cid)\n FROM enrolled\nORDER BY cid\n</code></pre> <p></p> <p>OVER \u91cc\u8fd8\u652f\u6301 ORDER BY \u7684\u5173\u952e\u5b57\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u7684\u51fd\u6570\u5c06\u5728\u6392\u5e8f\u540e\u7684\u7ed3\u679c\u4e0a\u8fd0\u884c\u3002</p> <p>\u4e0b\u9762\u7ed9\u51fa\u4e86\u4e00\u4e2a\u590d\u6742\u7684\u4f8b\u5b50\u3002\u8fd9\u91cc\u662f\u4ece\u5b66\u751f\u4e2d\u9009\u51fa\u7b2c\u4e8c\u9ad8\u7684\u6210\u7ee9\uff0c\u8fd0\u7528\u5230\u4e86\u5d4c\u5957\u67e5\u8be2\u3002 <pre><code>SELECT * FROM (\n SELECT *, RANK() OVER (PARTITION BY cid\n ORDER BY grade ASC) AS rank\n FROM enrolled) AS ranking\nWHERE ranking.rank = 2\n</code></pre></p>"},{"location":"metacourses/CMU%2015-445/lec2/#nested-queries","title":"NESTED QUERIES","text":"<p>\u5728\u4e00\u4e2a\u67e5\u8be2\u4e2d\u6211\u4eec\u53ef\u4ee5\u63d2\u5165\u53e6\u4e00\u4e2a\u67e5\u8be2\uff0c\u8fd9\u6837\u53ef\u4ee5\u6784\u6210\u66f4\u590d\u6742\u7684\u67e5\u8be2\u3002</p> <ul> <li>\u5bf9\u4e8e DBMS \u800c\u8a00\u8fd9\u662f\u4e00\u4e2a\u4f18\u5316\u95ee\u9898</li> <li>\u5d4c\u5957\u53ef\u80fd\u53d1\u751f\u5728\u67e5\u8be2\u7684\u5404\u4e2a\u4f4d\u7f6e</li> </ul> <pre><code>  SELECT name FROM student\n  WHERE sid IN (\n  SELECT sid FROM enrolled\n  WHERE cid = '15-445'\n  )\n</code></pre> <p>\u5728\u5d4c\u5957\u67e5\u8be2\u5904\u7406\u4e24\u5c42\u67e5\u8be2\u7684\u5173\u7cfb\u65f6\uff0c\u53ef\u4ee5\u6709\u5982\u4e0b\u7684\u8c13\u8bcd:</p> <ul> <li>ALL Must satisfy expression for all rows in the sub-query.</li> <li>ANY Must satisfy expression for at least one row in the sub-query.</li> <li>IN Equivalent to '=ANY()' .</li> <li>EXISTS At least one row is returned without comparing it to an attribute in outer query.</li> </ul>"},{"location":"metacourses/CMU%2015-445/lec2/#lateral-joins","title":"LATERAL JOINS","text":"<p>LATERAL \u7b97\u7b26\u5141\u8bb8\u5f15\u7528\u76f8\u90bb\u7684\u53e6\u4e00\u4e2a\u5d4c\u5957\u67e5\u8be2\u7684\u5185\u5bb9</p> <pre><code>SELECT * FROM\n (SELECT 1 AS x) AS t1,\n LATERAL (SELECT t1.x+1 AS y) AS t2;\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u60f3\u77e5\u9053\u6bcf\u95e8\u8bfe\u7a0b\u7684\u6ce8\u518c\u5b66\u751f\u4eba\u6570\u548c\u5e73\u5747 GPA\u3002\u6309\u6ce8\u518c\u4eba\u6570\u964d\u5e8f\u6392\u5217\u3002</p> <pre><code>SELECT * FROM course AS c,\n LATERAL (SELECT COUNT(*) AS cnt FROM enrolled\n          WHERE enrolled.cid = c.cid) AS t1,\n\n LATERAL (SELECT AVG(gpa) AS avg FROM student AS s\n          JOIN enrolled AS e ON s.sid = e.sid\n          WHERE e.cid = c.cid) AS t2;\n</code></pre>"},{"location":"metacourses/CMU%2015-445/lec3/","title":"Database Storage","text":""},{"location":"metacourses/CMU%2015-445/lec3/#disk-based-architecture","title":"DISK-BASED ARCHITECTURE","text":"<p>\u6240\u6709\u7684 DBMS \u90fd\u5047\u5b9a\u5de5\u4f5c\u4e8e\u67d0\u79cd\u975e\u6613\u5931\u6027\u7684\u78c1\u76d8\u4e0a\u3002\u4ece\u672c\u8d28\u4e0a\u8bb2\uff0cDBMS\u5c31\u662f\u5728\u6613\u5931\u548c\u975e\u6613\u5931\u7684\u78c1\u76d8\u4e0a\u8c03\u52a8\u6570\u636e\u3002</p> <p></p> <p>\u8d8a\u5411\u4e0a\u7684\u7684\u50a8\u5b58\u901f\u5ea6\u8d8a\u6765\u8d8a\u5feb\uff0c\u4f46\u8d8a\u6765\u8d8a\u6602\u8d35\uff0c\u5e76\u4e14\u7a7a\u95f4\u8d8a\u6765\u8d8a\u5c0f\u3002\u5411\u4e0b\u8d8a\u6765\u8d8a\u6162\uff0c\u4f46\u662f\u8d8a\u6765\u8d8a\u4fbf\u5229\u3002\u6211\u4eec\u552f\u4e00\u5173\u5fc3\u7684\u662f DRAM \u548c SSD \u4e4b\u95f4\u7684\u754c\u9650\uff0c\u56e0\u4e3aDRAM\u4ee5\u4e0a\u7684\u6570\u636e\u65ad\u7535\u540e\u4f1a\u5931\u53bb\uff0c\u6211\u4eec\u79f0\u4e3a Volatile \uff1b \u800c SSD \u53ca\u4ee5\u4e0b\u7684\u6570\u636e\u4e3a Non-Volatile\u3002 \u53e6\u5916\u4e00\u4e2a\u533a\u522b\u5728\u4e8e\u5bfb\u5740\u7684\u65b9\u5f0f\uff0cDRAM\u4ee5\u4e0a\u7684\u50a8\u5b58\u53ef\u4ee5\u6309\u7167\u5b57\u8282\u7f16\u7801\u6765\u968f\u673a\u4efb\u610f\u7684\u8bbf\u95ee\u6bcf\u4e00\u4e2a\u5b57\u8282\uff1b\u800c SSD \u4ee5\u4e0b\u7684\u6570\u636e\u9700\u8981\u6309\u7167\u987a\u5e8f\u8bbf\u95ee\u4e00\u4e2a\u5757\u3002(\u8fd9\u4e9b\u7279\u6027\u5c06\u5728\u6211\u4eec\u7684\u6570\u636e\u5e93\u7684\u50a8\u5b58\u548c\u8bbf\u95ee\u7684\u7b97\u6cd5\u4e2d\u4f53\u73b0)</p> <p>\u5728\u8fd9\u4e00\u8282\u8bfe\u4e2d\uff0c\u6211\u4eec\u5c06\u7edf\u79f0 DRAM \u4e3a Memory \uff1b SSD HDD \u548c Network Storage \u4e3a Disk\uff1b Register \u548c Cache \u4e3a CPU\uff08\u4f46\u5728\u672c\u8bfe\u4e2d\u4e0d\u4f1a\u88ab\u8be6\u7ec6\u8003\u8651\uff09</p> <p>\u6240\u4ee5\u6211\u4eec\u671f\u671b\u8bbe\u8ba1\u4e00\u4e2a\u6ee1\u8db3\u4e00\u4e0b\u9700\u6c42\u7684\u6570\u636e\u5e93\u50a8\u5b58\u7cfb\u7edf\uff1a</p> <ul> <li> <p>\u5141\u8bb8DBMS \u5728\u6570\u636e\u8d85\u51fa\u5185\u5b58\u7684\u60c5\u51b5\u4e0b\u4e5f\u80fd\u591f\u6b63\u5e38\u7684\u7ba1\u7406</p> </li> <li> <p>\u5c3d\u91cf\u907f\u514d\u5728\u8bfb\u5199\u4e0a\u8f83\u957f\u7684 Stall</p> </li> <li> <p>\u968f\u673a\u4f4d\u7f6e\u7684\u8bbf\u95ee\u4ee3\u4ef7\u8fc7\u4e8e\u9ad8\u6602\uff0c\u6211\u4eec\u7406\u60f3\u60c5\u51b5\u4e0b\u5e94\u8be5\u6700\u5927\u5316\u987a\u5e8f\u8bbf\u95ee</p> </li> </ul> <p></p> <p>\u4e0a\u56fe\u662f\u4e00\u4e2a\u57fa\u4e8e\u78c1\u76d8\u7684\u6570\u636e\u5e93\u7684\u4f8b\u5b50\uff0c\u5f53\u6211\u4eec\u60f3\u8981\u8bbf\u95ee\u67d0\u4e00\u6bb5\u6570\u636e\u65f6\uff1a</p> <ol> <li> <p>Excution Engine \u9996\u5148\u660e\u786e\u6211\u4eec\u9700\u8981\u7684\u6570\u636e\u5728\u54ea\u4e00\u9875\uff1f\uff08\u56fe\u4e2d\u7684\u4f8b\u5b50\u5728\u7b2c\u4e8c\u9875\uff09</p> </li> <li> <p>\u6211\u4eec\u4ece Disk \u4e2d\u8bfb\u51fa\u4e86 Directory \uff0c\u5c06\u5176\u653e\u8fdb Buffer Pool \u4e2d\u3002</p> </li> <li> <p>\u6839\u636e Directory \u6211\u4eec\u8bfb\u51fa Page 2\uff0c\u5e76\u8fd4\u8fd8\u7ed9 Engine \u4e00\u4e2a\u6307\u5411 Page 2 \u7684\u6307\u9488\u3002</p> </li> <li> <p>Engine \u6839\u636e Page 2 \u7684\u5185\u5bb9\u8fdb\u884c\u89e3\u91ca\u3002</p> </li> <li> <p>\u5f53\u6211\u4eec\u66f4\u65b0 Page 2 \u65f6\u6211\u4eec\u9996\u5148\u66f4\u65b0\u5185\u5b58\u4e2d\u7684 Page 2\uff0c\u6700\u540e\u6211\u4eec\u5c06\u5176\u5199\u56de\u81f3 Disk \u4e2d\u3002</p> </li> </ol> \u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5\u4f7f\u7528 OS \u4f5c\u4e3a DBS \u7684\u50a8\u5b58\u7ba1\u7406\uff1f <p>MMAP\u7684\u65b9\u5f0f\u6709\u5f88\u591a\u7f3a\u70b9</p> <ul> <li>OS \u6709\u53ef\u80fd\u968f\u65f6\u5904\u7406\u6389\u810f\u9875</li> <li>\u5982\u679c\u91c7\u7528 MMAP\uff0c DBMS\u4e0d\u77e5\u9053\u6570\u636e\u5728\u54ea\u4e00\u9875\u4e0a\uff0c\u6b64\u65f6OS\u89e6\u53d1 Page Fault\uff0c\u8fd9\u5f15\u8d77\u7684 IO \u4e2d\u65ad\u7684\u4ee3\u4ef7\u8fc7\u4e8e\u9ad8\u6602</li> <li>OS \u7ba1\u7406\u7684\u50a8\u5b58\u5f88\u96be\u53bb\u9a8c\u8bc1\u6570\u636e\u7684\u6709\u6548\u6027\uff0c\u6709\u53ef\u80fd\u4ea7\u751f SIGBUS \u7684\u4e2d\u65ad\uff0c\u5bfc\u81f4 DBMS \u4e0d\u5f97\u4e0d\u53bb\u5904\u7406</li> <li>OS \u672c\u8eab\u7684\u8868\u73b0\u5e76\u4e0d\u4f18\u5f02\uff0c\u5176\u7ed3\u6784\u548c\u7b97\u6cd5\u5728\u5176\u4ed6\u65b9\u9762\u505a\u51fa\u4e86\u59a5\u534f\uff0c\u800c\u727a\u7272\u4e86\u76f4\u63a5\u7684\u6027\u80fd</li> </ul> <p>\u4f46\u6211\u4eec\u4e5f\u4e0d\u80fd\u5b8c\u5168\u629b\u5f03 OS \uff08\u867d\u7136\u6709 Yellowbrick \u7684\u6570\u636e\u5e93\u786e\u5b9e\u662f\u8fd9\u4e48\u505a\u7684\uff09\uff0c\u9700\u8981\u7ef4\u62a4\u4e00\u4e2a\u5e73\u8861</p> <p>The OS is not your friend              -- Andy</p>"},{"location":"metacourses/CMU%2015-445/lec3/#database-storage_1","title":"DATABASE STORAGE","text":"<p>\u6211\u4eec\u8bbe\u8ba1\u6570\u636e\u5e93\u50a8\u5b58\u65f6\u9762\u4e34\u7684\u4e24\u5927\u95ee\u9898\uff1a - Problem 1: DBMS \u5e94\u8be5\u4ee5\u4f55\u79cd\u65b9\u5f0f\u8868\u793a\u6570\u636e\uff1f - Problem 2: DBMS \u5982\u4f55\u7ba1\u7406\u6570\u636e\u5728\u5185\u5b58\u548c\u78c1\u76d8\u89c1\u7684\u79fb\u52a8\uff1f</p>"},{"location":"metacourses/CMU%2015-445/lec3/#problem-1-data-representation","title":"Problem 1 DATA REPRESENTATION","text":"<p>\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u8d1f\u8d23\u7ef4\u62a4\u548c\u534f\u8c03\u4e0d\u540c\u6587\u4ef6\u7684\u90e8\u5206\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a**\u50a8\u5b58\u7ba1\u7406\u5668**\u3002\u6570\u636e\u5e93\u6587\u4ef6\u88ab\u5206\u5272\u4e3a\u201c\u9875\u201d(Page)\uff0c\u5b58\u50a8\u7ba1\u7406\u5668\u5c06\u4f1a\u8ffd\u8e2a\u6570\u636e\u5199\u5165\u4e86\u54ea\u4e9b\u9875\uff0c\u4ee5\u53ca\u6bcf\u4e2a\u5bb9\u5668\u6240\u5269\u4f59\u7684\u7a7a\u95f4\u3002</p> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cDBMS \u4e0d\u4f1a\u81ea\u884c\u7ef4\u62a4\u591a\u4e2a\u526f\u672c\uff08\u5047\u8bbe\u8fd9\u4e9b\u662f\u7531\u6570\u636e\u5e93\u4ee5\u5916\u7684\u7ec4\u4ef6\u53bb\u7ef4\u62a4\u7684\uff09</p> <p>\u4e00\u201c\u9875\u201d\u662f\u4e00\u5757\u56fa\u5b9a\u5927\u5c0f\u7684\u6570\u636e</p> <ul> <li>\u201c\u9875\u201d\u5185\u7684\u6570\u636e\u53ef\u4ee5\u662f\u5143\u7ec4\u3001\u53ef\u4ee5\u662f\u5143\u6570\u636e\u3001\u53ef\u4ee5\u662f\u7d22\u5f15\u3001\u53ef\u4ee5\u662f\u65e5\u5fd7\u7b49\u7b49</li> <li>\u5927\u591a\u6570\u7684\u7cfb\u7edf\u4e0d\u4f1a\u4f7f\u7528\u6df7\u5408\u7c7b\u578b\u7684\u201c\u9875\u201d\uff08\u6211\u4eec\u5047\u5b9a\u4e00\u9875\u53ea\u4f1a\u5305\u542b\u4e00\u4e2a\u5bf9\u8c61\u7684\u4fe1\u606f\uff09</li> <li>\u6bcf\u4e00\u9875\u90fd\u4f1a\u62e5\u6709\u4e00\u4e2a\u72ec\u7279\u7684 ID\uff0c\u540c\u65f6 DBMS \u901a\u8fc7\u67d0\u79cd\u65b9\u6cd5\u6216\u673a\u5236\u5c06ID\u6620\u5c04\u5230\u50a8\u5b58\u8bbe\u5907\u4e0a\u7684\u7269\u7406\u4f4d\u7f6e</li> </ul> <p>\u533a\u5206\u4e0d\u540c\u7684 page</p> <ul> <li>\u786c\u4ef6\u4e0a\u7684 Page (4KB)</li> <li>OS \u7684\u865a\u62df Page\uff084KB\uff09</li> <li>\u6570\u636e\u5e93\u4e2d\u7684 Page (512B~32KB)</li> </ul> <p>\u4e0d\u540c\u7684 DBMS \u6709\u4e0d\u540c\u7684\u7ba1\u7406\u6587\u4ef6\u4e2d\u7684\u9875\u5728\u78c1\u76d8\u4e0a\u4f4d\u7f6e\u7684\u65b9\u5f0f</p> <ul> <li>\u5806 Heap File Organization</li> <li>\u6811 Tree File Organization</li> <li>\u987a\u5e8f/\u6709\u5e8f Sequential/Sorted File Organization</li> <li>Hashing File Organization</li> </ul>"},{"location":"metacourses/CMU%2015-445/lec3/#heap-file","title":"HEAP FILE","text":"<p>Heap File \u662f\u65e0\u5e8f\u7684\u9875\u7684\u96c6\u5408\uff0c\u6211\u4eec\u7684\u5143\u7ec4\u5c06\u4ee5\u968f\u673a\u7684\u987a\u5e8f\u50a8\u5b58\uff08\u5173\u7cfb\u6a21\u578b\u4fdd\u8bc1\u4e86\u6211\u4eec\u5e76\u4e0d\u5173\u5fc3\u8fd9\u91cc\u7684\u987a\u5e8f\uff09\u6211\u4eec\u9700\u8981\u652f\u6301\u521b\u5efa\u3001\u67e5\u8be2\u3001\u5199\u5165\u3001\u5220\u9664\u9875\uff1b\u540c\u65f6\u4e5f\u9700\u8981\u80fd\u591f\u904d\u5386\u6240\u6709\u7684\u9875\u3002</p> <p>\u5f53\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u662f\u975e\u5e38\u7b80\u5355\u7684\uff0c\u4f8b\u5982\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8ba1\u7b97 Offset = PageNumber x PageSize \u5373\u53ef </p> <p>\u95ee\u9898\u5728\u4e8e\u5f53\u6211\u4eec\u6709\u591a\u4e2a\u6587\u4ef6\u65f6\uff0c\u6211\u4eec\u8be5\u5982\u4f55\u77e5\u6653\u67d0\u4e00\u9875\u5728\u54ea\u4e2a\u4f4d\u7f6e\uff1f\u4ee5\u53ca\u5176\u5728\u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u91cf\uff1f</p> <p></p> <p>Heap File \u4e3a\u8fd9\u4e9b Page \u8bbe\u7f6e\u4e86\u4e00\u4e2a\u9875\u76ee\u5f55\uff0cDBMS\u8d1f\u8d23\u7ef4\u62a4\u8fd9\u4e2a\u7279\u6b8a\u7684\u201c\u9875\u201d\uff0c\u6765\u5c06\u9875\u53f7\u4e0e\u6570\u636e\u5728\u6587\u4ef6\u4e2d\u7684\u5730\u5740\u4e00\u4e00\u6620\u5c04\u3002\uff08\u4e0d\u540c\u7684DBMS\u6709\u4e0d\u540c\u7684\u5904\u7406\u65b9\u5f0f\u3002\u6709\u7684\u6570\u636e\u5e93\u5c06\u5176\u50a8\u5b58\u5728\u6587\u4ef6\u7684Header\u4e2d\uff0c\u4f8b\u5982SQLite\uff1b\u6709\u7684\u6570\u636e\u5e93\u5c06\u5176\u50a8\u5b58\u5728\u5355\u72ec\u7684\u6587\u4ef6\u4e2d\uff09</p>"},{"location":"metacourses/CMU%2015-445/lec3/#inside-page","title":"INSIDE PAGE","text":"<p>\u73b0\u5728\u6211\u4eec\u6765\u8ba8\u8bba\u6bcf\u4e00\u9875\u4e2d\u5c06\u4f1a\u50a8\u5b58\u90a3\u4e9b\u4fe1\u606f\uff1f</p> <p></p> <p>\u6bcf\u4e00\u9875\u5e94\u5f53\u5305\u542b\u4e00\u4e2a Header \uff0c\u7528\u4e8e\u8bb0\u5f55\u5404\u79cd\u6709\u5173\u9875\u7684\u9644\u5c5e\u4fe1\u606f</p> <ul> <li>\u9875\u7684\u5927\u5c0f</li> <li>\u6821\u9a8c\u548c</li> <li>DBMS\u7684\u7248\u672c</li> <li>\u4fee\u6539\u7684\u6743\u9650</li> <li>\u538b\u7f29\u3001\u7f16\u7801\u7684\u4fe1\u606f ...</li> </ul> <p>\u9664\u4e86\u9875\u5934\u4ee5\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5173\u6ce8\u6570\u636e\u7684\u50a8\u5b58\u65b9\u5f0f\u3002\uff08\u6211\u4eec\u5047\u8bbe\u6211\u4eec\u6309\u7167\u884c\u7684\u65b9\u5f0f\u6765\u50a8\u5b58 tuple\uff09</p> <ul> <li>Approach #1: Tuple-oriented Storage</li> <li>Approach #2: Log-structured Storage</li> <li>Approach #3: Index-organized Storage</li> </ul>"},{"location":"metacourses/CMU%2015-445/lec3/#tuple-oriented-storage","title":"Tuple-oriented Storage","text":"<p>\u5f53\u6211\u4eec\u6309\u7167 tuple \u7684\u65b9\u5f0f\u50a8\u5b58\u65f6\uff0c\u4e00\u4e2a\u5f88\u76f4\u89c2\u7684\u60f3\u6cd5\u662f\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8bb0\u5f55\u4e00\u4e2atuple\u7684\u6570\u91cf\uff0c\u5f53\u6211\u4eec\u63d2\u5165\u4e00\u4e2a\u65b0\u7684 tuple \u65f6\uff0c\u6211\u4eec\u76f4\u63a5\u5728\u6587\u4ef6\u672b\u5c3e\u5199\u5165\uff0c\u5e76\u66f4\u65b0\u6570\u91cf\u5373\u53ef\u3002</p> <p></p> <p>\u4f46\u8fd9\u6837\u7684\u7ed3\u6784\u6709\u5f88\u660e\u663e\u7684\u7f3a\u70b9\uff0c\u5f53\u6211\u4eec\u5220\u9664\u6389\u4e00\u4e2a tuple \u65f6\uff0c\u5c06\u4f1a\u6253\u4e71\u6389\u6240\u6709\u7684\u987a\u5e8f\u3002\u5e76\u4e14\u5982\u679c\u5f53\u6570\u636e\u5e76\u975e\u5b9a\u957f\u7684\u65f6\u5019\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5b8c\u5168\u4e0d\u53ef\u884c\u3002</p> <p>\u4e00\u4e2a\u5e38\u89c1\u7684\u7b56\u7565\u662f Slotted Page \u5206\u69fd\u9875\u3002</p> <p></p> <p>\u6211\u4eec\u5c06\u4f1a\u7ef4\u62a4\u4e00\u4e2a Slot Array \u7528\u4e8e\u8bb0\u5f55\u6bcf\u4e00\u4e2a\u201c\u69fd\u201d\u7ed3\u675f\u7684\u5730\u5740\u3002</p> <p></p> <p>\u5f53\u6211\u4eec\u63d2\u5165\u4e00\u4e2a\u8bb0\u5f55\u65f6\uff0c\u6211\u4eec\u7684 tuple \u4ece\u524d\u5411\u540e\u589e\u957f\uff0c\u6211\u4eec array \u4ece\u540e\u5411\u524d\u589e\u957f\u3002\u9875\u5934\u9700\u8981\u989d\u5916\u8bb0\u5f55\u63d2\u69fd\u7684\u6570\u91cf\u548c\u6700\u540e\u4e00\u4e2a\u69fd\u7684\u504f\u79fb\u91cf\u3002</p> <p>\u6211\u4eec\u8fd8\u9700\u8981\u8003\u8651\u7684\u662f Record ID \u3002DBMS\u9700\u8981\u552f\u4e00\u7684\u8bc6\u522b\u6bcf\u4e00\u6761 tuple \uff0c \u8fd9\u610f\u5473\u7740\u6211\u4eec\u4e5f\u9700\u8981\u552f\u4e00\u7684\u8d4b\u4e88\u6bcf\u4e00\u4e2a tuple \u4e00\u4e2a\u8bc6\u522b ID\u3002\u8fd9\u6709\u53ef\u80fd\u662f File ID,Page ID,Slot ID \u7684\u6570\u5b66\u7ec4\u5408\u3002\u4f46\u4e8b\u5b9e\u4e0a\u8fd9\u4e9b ID \u5728\u5e94\u7528\u5c42\u6ca1\u6709\u4efb\u4f55\u610f\u4e49\uff0c\u56e0\u4e3a\u53ea\u662f\u6807\u8bc6\u50a8\u5b58\u7684\u4e00\u4e2a\u503c\uff0c\u5b83\u53ef\u80fd\u4f1a\u968f\u65f6\u53d8\u5316\u3002\uff08SQLite \u76f4\u63a5\u5c06\u6b64\u4f5c\u4e3a\u4e86\u4e3b\u952e\uff09</p> <p>\u8fd9\u6837\u57fa\u4e8e\u5143\u7ec4\u7684\u50a8\u5b58\u4ecd\u7136\u6709\u4e00\u4e9b\u95ee\u9898\uff1a</p> <ul> <li>Problem # 1: Fragmentation<ul> <li>\u9875\u5185\u7684\u7a7a\u95f4\u5e76\u6ca1\u6709\u5f97\u5230\u5145\u5206\u7684\u5229\u7528\uff0c\uff08\u53ef\u80fd\u4f7f\u9875\u5185\u7a7a\u95f4\u788e\u7247\u5316 \uff09</li> </ul> </li> <li>Problem # 2: Useless Disk I/O<ul> <li>DBMS \u9700\u8981\u8bfb\u53d6\u5b8c\u6574\u7684\u4e00\u9875\u624d\u80fd\u591f\u83b7\u53d6\u3001\u66f4\u65b0\u4e00\u4e2a\u5143\u7ec4</li> </ul> </li> <li>Problem # 3: Random Disk I/O<ul> <li>\u5f53\u6211\u4eec\u968f\u673a\u7684\u66f4\u65b0\u5143\u7ec4\u65f6\uff0c\u5176\u968f\u673a\u8bbf\u95ee\u5730\u5740\u7684\u5f00\u9500\u8f83\u5927(\u6700\u574f\u7684\u60c5\u51b5\u6bcf\u4e00\u4e2a\u9875\u53ea\u5305\u542b\u4e86\u4e00\u4e2a\u6211\u4eec\u8981\u67e5\u8be2\u7684\u5143\u7ec4)</li> </ul> </li> </ul>"},{"location":"metacourses/CMU%2015-445/lec3/#log-oriented-storage","title":"Log Oriented Storage","text":"<p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230 DBMS \u5728 Tuple Oriented Storage \u4e2d\u50a8\u5b58\u7684\u4e00\u4e9b\u95ee\u9898\u5728\u4e8e\u6211\u4eec\u9700\u8981\u53bb\u52a8\u6001\u5b9e\u65f6\u7684\u7ef4\u62a4\u8fd9\u4e9b\u5185\u5bb9\u3002\u4f46\u5982\u679c\u6211\u4eec\u6839\u672c\u4e0d\u9700\u8981\u53bb\u76f4\u63a5\u77e5\u6653\u73b0\u5728\u50a8\u5b58\u7684\u662f\u4ec0\u4e48\uff0c\u800c\u662f\u53bb\u5173\u5fc3\u5b83\u7684\u5386\u53f2\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u65e5\u5fd7\u7684\u50a8\u5b58\u65b9\u5f0f\uff08\u6709\u70b9\u7c7b\u4f3c\u4e8egit\uff09</p> <ul> <li>\u6bcf\u4e00\u6761\u65e5\u5fd7\u4ee3\u8868\u7740\u5bf9\u4e8e\u4e00\u4e2a\u5143\u7ec4\u7684 \u63d2\u5165/\u5220\u9664 </li> <li>\u53ef\u4ee5\u88ab LSM(Log Structure Merge Trees) \u5b9e\u73b0</li> </ul> <p>\u5f53\u78c1\u76d8\u7f13\u51b2\u533a\u586b\u6ee1\u65f6\uff0c\u6211\u4eec\u518d\u6309\u7167\u65e5\u5fd7\u53bb\u8bfb\u5199\u78c1\u76d8\u3002\uff08\u5bf9\u4e8e\u65e5\u5fd7\u578b\u7684\u8bb0\u5f55\uff0c\u6211\u4eec\u6c38\u8fdc\u4e0d\u4f1a\u4fee\u6539\u4e4b\u524d\u7684\u8bb0\u5f55\u3002\u5373\u4fee\u6539\u65e5\u5fd7\u672c\u8eab\uff0c\u4e5f\u53ea\u662f\u65b0\u6dfb\u52a0\u4e00\u6761\u65e5\u5fd7\uff09</p> <p>\u6240\u4ee5\u6211\u4eec\u7684\u4e00\u6761\u65e5\u5fd7\u9700\u8981\u5305\u542b\uff1a</p> <ul> <li>\u5173\u4e8e\u5143\u7ec4\u552f\u4e00\u786e\u5b9a\u7684\u8bc6\u522b\u7801</li> <li>\u63d2\u5165/\u4fee\u6539\u7684\u65e5\u5fd7\u8bb0\u5f55\u9700\u8981\u5305\u542b\u5143\u7ec4\u7684\u5185\u5bb9</li> <li>\u5220\u9664\u9700\u8981\u6807\u8bb0\u5177\u4f53\u7684\u5143\u7ec4</li> </ul> <p>\u4f46\u663e\u800c\u6613\u89c1\u7684\uff0c\u7531\u4e8e\u6211\u4eec\u6bcf\u6b21\u53ea\u4f1a\u589e\u52a0\u4e00\u6761\u65e5\u5fd7\uff0c\u5bf9\u4e8e\u8bfb\u53d6/\u67e5\u8be2\u7684\u5f00\u9500\u5c06\u4f1a\u589e\u52a0\u3002\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u7279\u6b8a\u7684\u6570\u636e\u7ed3\u6784\u6765\u7ef4\u62a4\u8fd9\u4e2a\u67e5\u8be2\uff08\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u9700\u8981\u67e5\u8be2\u7684\u5143\u7ec4\uff0c\u6211\u4eec\u7ef4\u62a4\u4e00\u4e2a\u7279\u6b8a\u7684\u6570\u636e\u7ed3\u6784\uff0c\u6765\u544a\u8bc9\u6211\u4eec\u4fee\u6539\u8fd9\u4e2a\u5143\u7ec4\u6700\u65b0\u7684\u8bb0\u5f55\u50a8\u5b58\u5728\u54ea\u91cc\uff09</p> <ul> <li>\u5982\u679c\u8fd9\u6761\u65e5\u5fd7\u5728\u5185\u5b58\u4e2d\uff0c\u76f4\u63a5\u8bfb\u53d6</li> <li>\u5982\u679c\u8fd9\u6761\u65e5\u5fd7\u5728\u78c1\u76d8\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u989d\u5916\u8bfb\u53d6</li> </ul> <p></p> <p>DBMS \u901a\u5e38\u4e0d\u9700\u8981\u53bb\u7ef4\u62a4\u6240\u6709\u7684\u8bb0\u5f55\uff0c\u6240\u4ee5\u6211\u4eec\u4e5f\u9700\u8981\u5b9a\u671f\u7684\u53bb\u6e05\u7406\u8fd9\u4e9b\u65e5\u5fd7\u6765\u51cf\u5c11\u7a7a\u95f4\u7684\u6d6a\u8d39\uff08\u6309\u7167\u4ece\u65b0\u81f3\u65e7\u7684\u8fc7\u7a0b\u8bb0\u5f55\u6700\u65b0\u7684\u6211\u4eec\u6240\u5173\u5fc3\u7684\u503c\u5c31\u53ef\u4ee5\u4e86\uff09\u8fd9\u6837\u7684\u538b\u7f29\u53ef\u4ee5\u4fdd\u8bc1\u6211\u4eec\u6bcf\u4e00\u9875\u7684\u8bb0\u5f55\u4e2d\u53ea\u5305\u542b\u4e00\u6761\u6211\u4eec\u6240\u5173\u5fc3\u7684\u5185\u5bb9\u3002</p> <p></p> <p>\u5047\u5b9a\u6211\u4eec\u5199\u5165\u78c1\u76d8\u4e2d\u7684\u65e5\u5fd7\u8bb0\u5f55\u90fd\u662f\u538b\u7f29\u540e\u7684\u8bb0\u5f55\uff0c\u6b64\u65f6\u6211\u4eec\u7684\u987a\u5e8f\u4e0d\u5728\u91cd\u8981\u4e86\uff08\u56e0\u4e3a\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e00\u4e2a\u5143\u7ec4\u6709\u4e14\u4ec5\u6709\u4e00\u6761\u8bb0\u5f55\uff09\u6211\u4eec\u53ef\u4ee5\u989d\u5916\u7684\u6309\u7167 Index \u6765\u6392\u5e8f\u6765\u4f18\u5316\u6211\u4eec\u5185\u5b58\u4e2d\u7684\u67e5\u627e\u3002\uff08SSTables\uff09  <p></p> <p></p> <p>\u538b\u7f29\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a\u7b2c\u4e00\u79cd\u8f83\u4e3a\u663e\u7136\uff0c\u6211\u4eec\u4efb\u53d6\u4e24\u4e2a\u76f8\u90bb\u7684\u65e5\u5fd7\u8bb0\u5f55\u5408\u5e76\u5373\u53ef\uff0c\u8fd9\u79cd\u65b9\u5f0f\u88ab\u79f0\u4e3a\u5168\u5c40\u5408\u5e76(Universal Compaction)\u3002\u7b2c\u4e8c\u79cd\u4e3a\u7ea7\u5408\u5e76\uff08\u7c7b\u4f3c\u4e8e\u52a0\u6cd5\u6811\uff09\u3002</p> <p> <p> </p> <p></p>"},{"location":"metacourses/CMU%2015-445/lec3/#index-oriented-storage","title":"Index Oriented Storage","text":"<p>\u6240\u6709\u7684\u5143\u7ec4\u5728\u9875\u4e0a\u6309\u7167 key \u6765\u50a8\u5b58\uff0c\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\u6765\u7ef4\u62a4\u5b83\u7684\u7d22\u5f15\u3002\uff08\u8fd9\u91cc\u7c7b\u4f3c\u4e8e\u9875\u8868\uff0ckey\u540c\u6837\u4f1a\u6709\u4e2aoffset\uff0c\u800c\u5269\u4e0b\u7684\u5f53\u505a\u7d22\u5f15\uff09</p> <p></p>"},{"location":"metacourses/CMU%2015-445/lec3/#inside-tuples","title":"INSIDE TUPLES","text":"<p>\u5bf9\u4e8e\u5143\u7ec4\u4e2d\u7684\u6240\u6709\u7684 attributes \uff0c\u6211\u4eec\u5e0c\u671b\u5b83\u662f\u5b57\u8282\u5bf9\u9f50\u7684\u3002\u4e3a\u6b64\u6211\u4eec\u9700\u8981\u5f15\u5165 Padding\u3002\u5373\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5c5e\u6027\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u5b83\u51fa\u73b0\u8de8\u5b57\u7684\u60c5\u51b5\uff0c\u5f53\u5176\u51fa\u73b0\u65f6\uff0c\u6211\u4eec\u901a\u8fc7\u586b\u5145\u96f6\u6765\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\u3002</p> <p></p> <p>\u4f46\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u91cd\u6392\u8fd9\u4e9b\u6570\u636e\u6765\u5b9e\u73b0\u907f\u514d\u8de8\u5b57\u7684\u529f\u80fd\u3002\uff08\u4f46\u4ecd\u7136\u53ef\u80fd\u9700\u8981 Padding\uff09\u4f8b\u5982\uff1a </p> <p>\u5143\u7ec4\u6570\u636e\u7c7b\u578b\u5728\u4e0d\u540c\u7684 DBMS \u7684\u5b9e\u73b0\u4e2d\u4e0d\u5c3d\u76f8\u540c\uff0c\u4f46\u5927\u90e8\u5206\u7684\u6570\u636e\u9075\u5faa\u5982\u4e0b\uff1a</p> <ul> <li>INTEGER/BIGINT/SMALLINT/TINYINT<ul> <li>\u4e0e C/C++ \u76f8\u540c.</li> </ul> </li> <li>FLOAT/REAL vs. NUMERIC/DECIMAL<ul> <li>IEEE-754 \u6807\u51c6 / \u56fa\u5b9a\u4f4d\u6570\u7684\u6d6e\u70b9\u6570\uff08DBMS\u81ea\u5df1\u5b9e\u73b0\u7684\u7c7b\u578b\uff09.</li> </ul> </li> <li>VARCHAR/VARBINARY/TEXT/BLOB<ul> <li>\u5143\u7ec4\u7684\u5934\u8bb0\u5f55\u5176\u957f\u5ea6\uff0c\u7d27\u63a5\u7740\u662f\u6570\u636e\u6216\u8005\u6307\u5411\u6570\u636e\u7684\u6307\u9488\uff08\u5982\u679c\u6570\u636e\u8fc7\u5927\uff09</li> </ul> </li> <li>TIME/DATE/TIMESTAMP/INTERVAL <ul> <li>32/64-bit \u6574\u6570Unix\u6807\u51c6\u65f6\u95f4\u6233</li> </ul> </li> </ul>"},{"location":"metacourses/CMU%2015-445/lec4/","title":"Storage Models","text":""},{"location":"metacourses/CMU%2015-445/lec4/#database-models","title":"DATABASE MODELS","text":"<p>\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u7684\u5bf9\u6570\u636e\u5e93\u7684\u5de5\u4f5c\u505a\u51fa\u4e09\u79cd\u5206\u7c7b\uff1a</p> <ul> <li> <p>OLTP: Online Transaction Processing : \u6bcf\u6b21\u64cd\u4f5c\u53ea\u6d89\u53ca\u6570\u91cf\u7ea7\u8f83\u5c0f\u7684\u8bfb/\u5199</p> </li> <li> <p>OLAP: Online Analytical Processing  : \u6bcf\u6b21\u64cd\u4f5c\u8bbe\u8ba1\u590d\u6742\u7684\u67e5\u8be2\uff0c\u9700\u8981\u8ba1\u7b97\u5927\u91cf\u7684 aggregates. \u4e00\u822c\u800c\u8a00 OLAP \u9700\u8981 OLTP \u4fa7\u4ece\u73b0\u6709\u7684\u6570\u636e\u4e2d\u5206\u6790\u548c\u63d0\u53d6\u65b0\u7684\u6570\u636e\u3002</p> </li> <li> <p>HTAP: Hybrid Transaction + Analytical Processing :OLTP \u548c OLAP \u7684\u7ed3\u5408</p> </li> </ul> <p>\u6211\u4eec\u5148\u524d\u6240\u8bbe\u8ba1\u7684\u7684\u50a8\u5b58\u6a21\u5f0f\u9ed8\u8ba4\u5c06\u4e00\u4e2a tuple \u7684\u6240\u6709 attributes \u5168\u90e8\u50a8\u5b58\u5728\u4e00\u4e2a page \u4e2d\uff08\u5bf9\u4e8e\u4e00\u4e9b\u8d85\u5927\u7684 attributes \u53ef\u80fd\u4e0d\u662f\u8fd9\u6837\u7684\uff09\uff0c\u4f46\u8fd9\u5b9e\u9645\u4e0a\u5bf9\u4e8e OLAP \u800c\u8a00\u5e76\u975e\u6700\u4f18\u7684\u7b56\u7565\u3002</p> <p>Wiki \u4f8b\u5b50</p> <p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a wiki \u6570\u636e\u5e93\uff0c\u5176\u4e2d\u4fdd\u5b58\u4e86\u7528\u6237\u3001\u9875\u9762\u548c\u6bcf\u4e00\u6b21\u4fee\u6539\u7684\u4fe1\u606f</p> <pre><code>CREATE TABLE useracct (\n    userID INT PRIMARY KEY,\n    userName VARCHAR UNIQUE,\n    \u22ee\n);\n\nCREATE TABLE revisions (\n    revID INT PRIMARY KEY,  \n    userID INT REFERENCES useracct (userID),\n    pageID INT REFERENCES pages (pageID),\n    content TEXT,\n    updated DATETIME\n);\n\nCREATE TABLE pages (\n    pageID INT PRIMARY KEY,\n    title VARCHAR UNIQUE,\n    latest INT\n    REFERENCES revisions (revID),\n);\n</code></pre> <p>\u5176\u4e2d\uff0crevisions \u4e2d\u7684 useracct \u548c pages \u4e24\u4e2a\u6307\u9488\u5206\u522b\u6307\u5411\u4e00\u4e2a\u9875\u9762\u548c\u4e00\u4e2a\u7528\u6237\uff1b\u800c page \u4e2d\u7684\u6307\u9488\u6307\u5411\u6700\u65b0\u7684\u4e00\u4e2a\u4fee\u6539\u3002 \u5f53\u6211\u4eec\u60f3\u8981\u67e5\u8be2\u4e00\u4e2a\u9875\u9762\u5bf9\u5e94\u7684\u6700\u65b0\u7684ID\u65f6\uff0c\u5c31\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u7684\u65b9\u6cd5\u53bb\u67e5\u8be2,\u8fd9\u6837\u7684\u64cd\u4f5c\u5c31\u662f OLTP \u7684\u3002</p> <pre><code>SELECT P.*, R.*\nFROM pages AS P\nINNER JOIN revisions AS R\nON P.latest = R.revID\nWHERE P.pageID = ?\n</code></pre> <p>\u800c OLAP \u5219\u662f\u5bf9\u5e94\u9700\u8981\u8bfb\u53d6\u5927\u90e8\u5206\u6570\u636e\u7684\u64cd\u4f5c\u3002\u4f8b\u5982\u6211\u4eec\u9700\u8981\u67e5\u8be2\u767b\u5f55\u7684\u7528\u6237\u7684\u4e3b\u673a\u540d\u4ee5 '.gov' \u7ed3\u5c3e\u7684\u6570\u91cf</p> <pre><code>SELECT COUNT(U.lastLogin),\n    EXTRACT(month FROM\n            U.lastLogin) AS month\n    FROM useracct AS U\nWHERE U.hostname LIKE '%.gov'\n    GROUP BY\n     EXTRACT(month FROM U.lastLogin)\n</code></pre>"},{"location":"metacourses/CMU%2015-445/lec4/#storage-models_1","title":"STORAGE MODELS","text":"<p>DBMS \u7684\u50a8\u5b58\u6a21\u578b\u6307\u7684\u662f\u6570\u636e\u5e93\u7cfb\u7edf\u5982\u4f55\u5728\u7269\u7406\u5c42\u9762\u4e0a\u7ec4\u7ec7\u78c1\u76d8\u548c\u5185\u5b58\u4e2d\u7684\u5143\u7ec4\u4ee5\u53ca\u5b83\u4eec\u76f8\u5bf9\u4e8e\u5176\u4ed6\u5143\u7ec4\u548c\u81ea\u8eab\u5c5e\u6027\u7684\u5173\u7cfb\u3002\u5bf9\u4e8e\u4e0d\u540c\u7684\u67e5\u8be2\uff0c\u50a8\u5b58\u6a21\u578b\u5c06\u4f1a\u6709\u4e0d\u540c\u7684\u5f71\u54cd\uff0c\u8fd9\u5bf9\u4e8e\u6570\u636e\u5e93\u7684\u8bbe\u8ba1\u4e0e\u6784\u5efa\u662f\u5341\u5206\u91cd\u8981\u7684\u3002\u5e38\u89c1\u7684\u50a8\u5b58\u6a21\u578b\u6709\u4e09\u79cd\uff1a</p> <ul> <li>N-Ary Storage Model (NSM)</li> <li>Decomposition Storage Model (DSM)</li> <li>Partition Attributes Across (PAX)</li> </ul>"},{"location":"metacourses/CMU%2015-445/lec4/#nsm","title":"NSM","text":"<p>N-Ary Storage Model \u662f\u5c06\u4e00\u4e2a\u5143\u7ec4\u4e2d\u7684\u6240\u6709\u5c5e\u6027\u8fde\u7eed\u7684\u5b58\u50a8\u5728\u4e00\u9875\u7684\u50a8\u5b58\u6a21\u578b\uff08\u884c\u50a8\u5b58\uff09\u3002\u8fd9\u6709\u5229\u4e8e OLTP \u7c7b\u578b\u7684\u5de5\u4f5c\uff0c\u56e0\u4e3a\u6b64\u65f6\u7684\u67e5\u8be2\u53ea\u4f1a\u8bbf\u95ee\u5355\u72ec\u7684\u4e2a\u4f53\u3002\u4e00\u822c\u800c\u8a00 NSM \u7684\u9875\u9762\u7684\u5927\u5c0f\u90fd\u662f\u786c\u4ef6\u9875\u9762\u7684\u5927\u5c0f\u7684\u6574\u6570\u500d\u3002</p> <p>\u4f8b\u5982\uff0c\u5f53\u6211\u4eec\u60f3\u8981\u6267\u884c\u4e00\u4e2a\u7528\u6237\u7684\u767b\u5f55\u65f6\uff0c\u6211\u4eec\u6839\u636e Index \u627e\u5230\u5bf9\u5e94\u7684\u9875\uff0c\u518d\u6839\u636e Slot Offset \u627e\u5230\u5bf9\u5e94\u7684\u4f4d\u7f6e\u5373\u53ef\u3002 </p> <p>\u4f46\u662f\u5982\u679c\u6211\u4eec\u60f3\u8981\u67e5\u8be2\u767b\u5f55\u7684\u7528\u6237\u7684\u4e3b\u673a\u540d\u4ee5 '.gov' \u7ed3\u5c3e\u7684\u6570\u91cf\u65f6\uff0c\u6211\u4eec\u9700\u8981\u626b\u63cf\u8868\u4e0a\u6240\u6709\u7684\u9875\uff0c\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u67e5\u770b\u6240\u6709\u7684\u5143\u7ec4\u4e2d\u662f\u5426\u662f\u7b26\u5408\u6761\u4ef6\u7684\u3002\u4f46\u662f\u6211\u4eec\u8fdb\u9700\u8981 lastLogin \u548c hostname \u4e24\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u8bbf\u95ee\u4e86\u8bb8\u591a\u65e0\u7528\u7684\u6570\u636e\u3002</p> <p></p> <ul> <li> <p>Advantages</p> <ul> <li>\u53ef\u4ee5\u8fdb\u884c\u5feb\u901f\u7684\u63d2\u5165\uff0c\u66f4\u65b0\uff0c\u548c\u5220\u9664</li> <li>\u5bf9\u4e8e\u9700\u8981\u67e5\u8be2\u4e00\u6574\u7ec4\u5143\u7ec4\u7684\u64cd\u4f5c\u800c\u8a00\u6bd4\u8f83\u53cb\u597d\uff08OLTP\uff09</li> </ul> </li> <li> <p>Disadvantages</p> <ul> <li>\u5bf9\u4e8e\u9700\u8981\u626b\u63cf\u8868\u683c\u4e2d\u5927\u91cf\u7684\u6570\u636e\u6216\u8005\u4ec5\u9700\u8981\u90e8\u5206\u5c5e\u6027\u7684\u67e5\u8be2\u800c\u8a00\u5e76\u4e0d\u53cb\u597d</li> <li>\u5bf9\u4e8e\u538b\u7f29\u800c\u8a00\u5e76\u4e0d\u597d\uff0c\u56e0\u4e3a\u5728\u4e00\u4e2a\u9875\u9762\u4e2d\u5b58\u5728\u591a\u4e2a\u503c</li> </ul> </li> </ul>"},{"location":"metacourses/CMU%2015-445/lec4/#dsm","title":"DSM","text":"<p>\u4e0e\u884c\u50a8\u5b58\u76f8\u53cd\uff0c\u6211\u4eec\u4e0d\u518d\u5c06\u540c\u4e00\u4e2a\u5143\u7ec4\u7684\u6240\u6709\u5c5e\u6027\u50a8\u5b58\u5728\u4e00\u8d77\uff0c\u800c\u662f\u5206\u522b\u5c06\u6bcf\u4e00\u4e2a\u5c5e\u6027\u5355\u72ec\u50a8\u5b58\u5728\u4e00\u4e2a\u5757(Block)\u4e2d\u3002\u8fd9\u6709\u5229\u4e8e OLAP \u7684\u5de5\u4f5c\u3002\u800c DBMS \u540c\u65f6\u4e5f\u8d1f\u8d23\u5728\u8bfb\u5199\u6570\u636e\u65f6\u5bf9\u4e8e\u5143\u7ec4\u7684\u5c5e\u6027\u7684\u62c6\u5206\u548c\u5408\u5e76\u3002</p> <p>\u6b64\u65f6\uff0c\u5bf9\u4e8e\u56fa\u5b9a\u957f\u5ea6\u7684\u5c5e\u6027\uff0c\u6211\u4eec\u5c06\u5176\u5206\u522b\u50a8\u5b58\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u4e2d\uff08\u4e5f\u53ef\u80fd\u5305\u62ec meta-data \uff0c\u4f8b\u5982 null\uff09\u3002  <p> </p> <p>\u4f46\u662f\u6211\u4eec\u5728 DSM \u4e2d\u9700\u8981\u989d\u5916\u8003\u8651\u7684\u4e00\u70b9\u662f\uff0c\u6211\u4eec\u8be5\u5982\u4f55\u5c06\u5c5e\u6027\u5bf9\u5e94\u5230\u5143\u7ec4\u4e0a\uff1f</p> <ul> <li>Fixed-length Offsets\uff1a\u6211\u4eec\u5c06\u5143\u7ec4\u552f\u4e00\u7684\u7d22\u5f15\u4f5c\u4e3a\u5176\u5c5e\u6027\u5728\u9875\u4e2d\u7684 Offset \u504f\u79fb\u91cf\u3002\uff08\u4f46\u8fd9\u91cc\u989d\u5916\u9700\u8981\u6bcf\u4e00\u4e2a\u503c\u7684\u957f\u5ea6\u662f\u56fa\u5b9a\u7684\u3002\uff09</li> <li>Embedded Tuple Ids \uff1a \u6211\u4eec\u5c06\u5143\u7ec4\u7684 ID \u5728\u9875\u4e2d\u989d\u5916\u50a8\u5b58\u4e3a\u4e00\u5217\uff0c\u548c\u6bcf\u4e00\u4e2a\u5c5e\u6027\u4e00\u4e00\u5bf9\u5e94\u3002</li> </ul> <p> <p>  \u4f46\u5b9e\u9645\u60c5\u51b5\u4e0b\u5f80\u5f80\u5b58\u5728\u53ef\u53d8\u957f\u7684\u503c\u7684\u60c5\u51b5\uff0c\u4e3a\u4e86\u4f7f\u7528\u7b2c\u4e00\u79cd\u65b9\u6cd5\uff0c\u6211\u4eec\u9700\u8981\u8fdb\u884c \u538b\u7f29(\u4f8b\u5982\u5b57\u5178\u538b\u7f29)\u3002</p> <ul> <li>Advantages<ul> <li>\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684IO\u67e5\u8be2\u7684\u6d6a\u8d39</li> <li>\u5bf9\u4e8e OLAP \u7c7b\u578b\u7684\u5de5\u4f5c\uff0c\u6709\u7740\u66f4\u597d\u5730\u6027\u80fd</li> <li>\u66f4\u5229\u4e8e\u6570\u636e\u538b\u7f29</li> </ul> </li> <li>Disadvantages<ul> <li>\u5bf9\u4e8e\u70b9\u5bf9\u70b9\u7684\u67e5\u8be2\u3001\u63d2\u5165\u3001\u66f4\u65b0\u8f83\u6162</li> </ul> </li> </ul>"},{"location":"metacourses/CMU%2015-445/lec4/#pax","title":"PAX","text":"<p>DBMS \u5728\u6570\u636e\u5e93\u9875\u9762\u5185\u5782\u76f4\u5206\u533a\u5c5e\u6027\u3002\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u5728\u4fdd\u7559\u884c\u5b58\u50a8\u7684\u7a7a\u95f4\u4f4d\u7f6e\u4f18\u52bf\u7684\u540c\u65f6\uff0c\u83b7\u5f97\u5217\u5b58\u50a8\u66f4\u5feb\u5904\u7406\u7684\u4f18\u52bf\u3002\u5168\u5c40\u7684\u6587\u4ef6\u5934\u5305\u542b\u6bcf\u4e00\u884c\u7ec4\u7684\u504f\u79fb\u91cf\u3002\u800c\u6bcf\u4e00\u884c\u7ec4\u4e2d\uff0c\u5c06\u5305\u542b\u6309\u7167\u5c5e\u6027\u8fdb\u884c\u5206\u7c7b\u7684\u5217\u3002</p> <p></p>"},{"location":"metacourses/CMU%2015-445/lec4/#compression","title":"COMPRESSION","text":"<p>\u5b9e\u9645\u4e0a IO \u662f\u6211\u4eec\u6570\u636e\u5e93\u7cfb\u7edf\u5728\u67e5\u8be2\u64cd\u4f5c\u662f\u7684\u4e00\u4e2a\u74f6\u9888\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u538b\u7f29\u6570\u636e\u6765\u5b9e\u73b0\u5728\u76f8\u540c IO \u4e0b\u66f4\u597d\u7684\u6027\u80fd\u3002\u8fd9\u76f8\u5f53\u4e8e\u5728 CPU \u548c IO \u4e2d\u8fdb\u884c\u6743\u8861\uff0c\u538b\u7f29\u5c06\u4f1a\u51cf\u5c0fIO\u7684\u538b\u529b\uff0c\u4f46\u4f1a\u589e\u52a0CPU\u7684\u8f7d\u8377\u3002</p> <p>\u5177\u4f53\u800c\u8a00\uff0c\u6211\u4eec\u5e0c\u671b\u5b9e\u73b0\u5982\u4e0b\u7684\u538b\u7f29\uff1a</p> <ul> <li>\u538b\u7f29\u540e\u5fc5\u987b\u4ea7\u751f\u56fa\u5b9a\u957f\u5ea6\u7684\u503c</li> <li>\u5728\u67e5\u8be2\u64cd\u4f5c\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u5c3d\u53ef\u80fd\u7684\u5ef6\u8fdf\u89e3\u538b\u7684\u64cd\u4f5c</li> <li>\u5fc5\u987b\u662f\u65e0\u635f\u538b\u7f29</li> </ul> <p>\u6211\u4eec\u540c\u6837\u4e5f\u8981\u8003\u8651\u5728\u4ec0\u4e48\u5c42\u9762\u8fdb\u884c\u538b\u7f29\uff1a</p> <ul> <li> <p>Choice #1: Block-level</p> <ul> <li>\u5bf9\u4e8e\u540c\u4e00\u4e2a\u8868\u683c\u4e2d\u7684\u5143\u7ec4\u8fdb\u884c\u538b\u7f29</li> </ul> </li> <li> <p>Choice #2: Tuple-level</p> <ul> <li>\u5bf9\u4e8e\u4e00\u4e2a\u5143\u7ec4\u4e2d\u7684\u5185\u5bb9\u8fdb\u884c\u538b\u7f29 (NSM-only).</li> </ul> </li> <li> <p>Choice #3: Attribute-level</p> <ul> <li>\u5bf9\u4e8e\u5355\u4e2a\u5c5e\u6027\u8fdb\u884c\u538b\u7f29 (overflow).</li> <li>\u4e5f\u53ef\u4ee5\u5bf9\u4e8e\u540c\u4e00\u5143\u7ec4\u7684\u591a\u4e2a\u5c5e\u6027\u8fdb\u884c\u538b\u7f29</li> </ul> </li> <li> <p>Choice #4: Column-level</p> <ul> <li>\u540c\u65f6\u5bf9\u591a\u4e2a\u5143\u7ec4\u7684\u540c\u4e00\u5c5e\u6027\u8fdb\u884c\u538b\u7f29 (DSM-only).</li> </ul> </li> </ul>"},{"location":"metacourses/CMU%2015-445/lec4/#naive-compression","title":"NAIVE COMPRESSION","text":"<p>DBMS \u901a\u8fc7\u901a\u7528\u7684\u6570\u636e\u538b\u7f29\u7b97\u6cd5\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u538b\u7f29 (e.g., gzip, LZO, LZ4, Snappy, Brotli, Oracle OZIP, Zstd).\u5176\u4e2d\u7684\u4e00\u4e2a\u4f8b\u5b50\u4fbf\u662f MySQL \u4e2d InnoDB.</p> <p></p> <p>\u9996\u5148\u6570\u636e\u88ab\u538b\u7f29\u6210\u4e8c\u7684\u6574\u6570\u6b21\u65b9\u5927\u5c0f\u7684\u538b\u7f29\u9875\uff0c\u5e76\u7ef4\u62a4\u4e00\u4e2a mod log \uff08\u65e5\u5fd7\u7c7b\u578b\uff09\u3002\u5f53\u6211\u4eec\u9700\u8981\u63d2\u5165\u4e00\u4e2a\u503c\u65f6\uff0c\u6211\u4eec\u5c06\u5176\u4ece\u6587\u4ef6\u4e2d\u62ff\u51fa\uff0c\u653e\u5165 buffer pool \u4e2d,\u5e76\u5c06\u9700\u4fee\u6539\u6dfb\u52a0\u5230 mod log \u4e2d\uff0c\u6b64\u65f6\u4e0d\u9700\u8981\u89e3\u538b\uff1b\u5f53\u6211\u4eec\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u6211\u4eec\u5c06\u5176\u89e3\u538b\uff0c\u5e76\u5c06mod log\u5408\u5e76\uff0c\u6700\u540e\u91cd\u65b0\u538b\u7f29\u653e\u56de\u6587\u4ef6\u3002</p> <p>\u4f46\u7531\u4e8e\u6570\u636e\u5e93\u5e76\u4e0d\u77e5\u9053\u538b\u7f29\u540e\u6570\u636e\u7684\u542b\u4e49\uff08\u56e0\u4e3a\u8fd9\u4e9b\u7b97\u6cd5\u90fd\u662f\u5efa\u7acb\u5728\u67d0\u79cd\u5b57\u5178\u538b\u7f29\u4e0a\u7684\uff0c\u800cDBMS\u5e76\u4e0d\u77e5\u9053\u5176\u5177\u4f53\u7684\u542b\u4e49\uff09\uff0c\u6211\u4eec\u5728\u67e5\u8be2\u524d\u5fc5\u987b\u8981\u5168\u90e8\u89e3\u538b\u7f29\u624d\u80fd\u591f\u5b9e\u73b0\u3002\u6211\u4eec\u5e0c\u671b\u6570\u636e\u5e93\u80fd\u591f\u5b9e\u73b0\u81ea\u5df1\u7684\u538b\u7f29\u7b97\u6cd5\uff0c\u4f7f\u5176\u80fd\u591f\u5728\u538b\u7f29\u7684\u6570\u636e\u4e0a\u8fdb\u884c\u67e5\u8be2\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec4/#run-length-encoding","title":"RUN-LENGTH ENCODING","text":"<p>\u5c06\u4e00\u5217\u4e2d\u8fde\u7eed\u91cd\u590d\u7684\u503c\u53d8\u4e3a\u7279\u5b9a\u504f\u79fb\u91cf\u5904\u8be5\u503c\u51fa\u73b0\u7684\u6b21\u6570\u3002\u8fd9\u5bf9\u4e8e\u6392\u5e8f\u540e\u7684\u8868\u800c\u8a00\u6548\u679c\u8f83\u597d\u3002\u6211\u4eec\u8fdb\u9700\u8981\u8bb0\u5f55\uff1a\u5c5e\u6027\u7684\u503c\uff0c\u5f00\u59cb\u7684\u504f\u79fb\u91cf\uff0c\u91cd\u590d\u7684\u6b21\u6570\u5373\u53ef\u3002</p> <p></p>"},{"location":"metacourses/CMU%2015-445/lec4/#bit-packing","title":"BIT-PACKING","text":"<p>\u5982\u679c\u5c5e\u6027\u7684\u503c\u5b9e\u9645\u4e0a\u8fdc\u5c0f\u4e8e\u6211\u4eec\u58f0\u660e\u7684\u7c7b\u578b\u7684\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u51cf\u5c0f\u5b9e\u9645\u50a8\u5b58\u7684\u503c\u7684\u4f4d\u6570\u3002</p> <p> <p></p> <p></p>"},{"location":"metacourses/CMU%2015-445/lec4/#mostly-encoding","title":"MOSTLY ENCODING","text":"<p>\u5728 BIT-PACKING \u4e2d\uff0c\u6211\u4eec\u65e0\u6cd5\u4fdd\u8bc1\u6bcf\u4e00\u4e2a\u503c\u90fd\u4f1a\u8fdc\u5c0f\u4e8e\u6211\u4eec\u58f0\u660e\u7c7b\u578b\u7684\u503c\u3002\u6240\u4ee5\u5f53\u4e00\u4e2a\u5c5e\u6027\u7684\u7edd\u5927\u591a\u6570\u7684\u503c\u5c0f\u4e8e\u58f0\u660e\u7c7b\u578b\u7684\u503c\u65f6\uff0c\u6211\u4eec\u5c06\u6781\u5927\u7684\u503c\u5355\u72ec\u50a8\u5b58\uff0c\u5269\u4e0b\u7684\u503c\u6309\u7167 bit-packing \u7684\u65b9\u5f0f\u50a8\u5b58\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec4/#bitmap-encoding","title":"BITMAP ENCODING","text":"<p>\u5982\u679c\u6211\u4eec\u6709\u4e00\u4e2a\u5c5e\u6027\uff0c\u5176\u4e0d\u540c\u7684\u503c\u7684\u4e2a\u6570\u8f83\u5c11\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u6bcf\u4e00\u4e2a\u4e0d\u540c\u7684\u503c\u5355\u72ec\u50a8\u5b58\u4e00\u4e2abit\u503c\uff0c\u8868\u793a\u5176\u662f\u5426\u5177\u6709\u8fd9\u4e2a\u503c\u3002</p> <p></p>"},{"location":"metacourses/CMU%2015-445/lec4/#delta-encoding","title":"DELTA ENCODING","text":"<p>\u5f53\u6211\u4eec\u50a8\u5b58\u7684\u503c\u4e4b\u95f4\u6bd4\u8f83\u63a5\u8fd1\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4e0d\u5728\u50a8\u5b58\u503c\uff0c\u800c\u662f\u4ec5\u4ec5\u50a8\u5b58\u76f8\u90bb\u4e24\u4e2a\u5c5e\u6027\u7684\u503c\u4e4b\u95f4\u7684\u5dee\u3002\u6b64\u65f6\u6211\u4eec\u4e5f\u53ef\u4ee5\u8fdb\u4e00\u6b65\u7684\u590d\u7528 RLE \u538b\u7f29\u3002</p> <p></p>"},{"location":"metacourses/CMU%2015-445/lec4/#dictionary-compression","title":"DICTIONARY COMPRESSION","text":"<p>\u6211\u4eec\u5c06\u5e38\u51fa\u73b0\u7684\u503c\u7528\u56fa\u5b9a\u957f\u5ea6\u7684\u7f16\u7801\u4ee3\u66ff\uff0c\u540c\u65f6\u7ef4\u62a4\u4e00\u4e2a\u8bcd\u5178\u7528\u4e8e\u6620\u5c04\u503c\u4e0e\u7f16\u7801\u3002\uff08\u8fd9\u662f\u5b9e\u9645\u4e0a\u6570\u636e\u5e93\u4e2d\u6700\u4e3a\u5e38\u7528\u7684\u538b\u7f29\u65b9\u6cd5\uff09\u5b57\u5178\u538b\u7f29\u4e5f\u652f\u6301\u8303\u56f4\u67e5\u8be2\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4fdd\u6301\u7f16\u7801\u987a\u5e8f\u4e0e\u539f\u59cb\u503c\u7684\u987a\u5e8f\u5373\u53ef\u3002</p> <p></p> <p>\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u80fd\u591f\u5e2e\u52a9\u6211\u4eec\u5b8c\u6210\u89e3\u538b\u7f29\u7684\u8fc7\u7a0b\uff0c\u540c\u65f6\u7ef4\u62a4\u539f\u59cb\u503c\u7684\u76f8\u5bf9\u987a\u5e8f\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec5/","title":"Hash Tables","text":"<p>\u6211\u4eec\u9700\u8981\u9ad8\u6548\u3001\u5b89\u5168\u7684\u6570\u636e\u7ed3\u6784\u6765\u8868\u793a\u7cfb\u7edf\u7684\u72b6\u6001\u4e0e\u6570\u636e\uff1a</p> <ul> <li>Internal Meta-data</li> <li>Core Data Storage</li> <li>Temporary Data Structures</li> <li>Table Indexes</li> </ul> <p>\u6240\u4ee5\u901a\u5e38\u800c\u8a00\u6211\u4eec\u4f7f\u7528\u4e24\u79cd\u4e86\u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\u6765\u7ef4\u62a4\u8fd9\u4e2a\u8fc7\u7a0b\uff1a</p> <ul> <li>Hash Tables (\u65e0\u5e8f\u7684)</li> <li>Trees (\u6709\u5e8f\u7684)</li> </ul> <p>\u6211\u4eec\u6240\u8a00\u7684\u9ad8\u6548\u548c\u6b63\u786e\u7684\u6570\u636e\u7ed3\u6784\uff0c\u9700\u8981\u5177\u6709\u5982\u4e0b\u7684\u7279\u5f81\uff1a</p> <ul> <li> <p>Data Organization: How we layout data structure in memory/pages and what information to store to support efficient access.</p> </li> <li> <p>Concurrency:  How to enable multiple threads to access the data structure at the same time without causing problems.</p> </li> </ul> <p>Definition</p> <p>A hash table implements an unordered associative array that maps keys to values.</p> <p>It uses a hash function to compute an offset into this array for a given key, from which the desired value can be found.</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e5f\u8bb8\u54c8\u5e0c\u8868\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5e73\u5747\u4e3a O(1) \u662f\u4e00\u4ef6\u597d\u4e8b\uff0c\u4f46\u662f\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\uff0c\u5e38\u6570\u540c\u6837\u5f88\u91cd\u8981\uff01\u5728\u5de8\u5927\u7684\u8868\u683c\u4e2d\uff0c\u4f8b\u5982\u6d89\u53ca\u5341\u4ebf\u4e2a\u952e\u7684\u5339\u914d\uff0c\u5355\u6b21\u67e5\u8be21ms\u7684\u4f18\u5316\u90fd\u4f1a\u5bfc\u81f4\u6574\u4f53\u6027\u80fd\u7684\u5de8\u5927\u4f18\u5316\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec5/#types-of-hash-tables","title":"Types of Hash Tables","text":""},{"location":"metacourses/CMU%2015-445/lec5/#static-hash-table","title":"Static Hash Table","text":"<p>\u6211\u4eec\u4ece\u6700\u666e\u901a\u7684\u54c8\u5e0c\u8868\uff0c\u54c8\u5e0c\u51fd\u6570\u6a21 N \u7684\u503c\u5c06\u4f5c\u4e3a\u5b58\u50a8\u7684\u4f4d\u7f6e\u7684\u504f\u5dee\u91cf (1)\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u4ece\u50a8\u5b58\u539f\u59cb\u7684\u952e\u503c\uff0c\u6765\u68c0\u6d4b\u662f\u5426\u53d1\u751f\u4e86\u51b2\u7a81\u3002</p> <p>\u4f46\u8fd9\u6837\u7684\u54c8\u5e0c\u8868\u53ea\u5728\u7406\u60f3\u7684\u60c5\u51b5\u4e0b\u5de5\u4f5c\uff1a</p> <ul> <li>Assumption #1: Number of elements is known ahead of time and fixed.</li> <li>Assumption #2: Each key is unique.</li> <li>Assumption #3: Perfect hash function guarantees no collisions.</li> </ul> <p>\u663e\u7136\u7b2c\u4e09\u5047\u8bbe\u91cc\u7684\u5b8c\u7f8e\u54c8\u5e0c\u51fd\u6570\u5e76\u4e0d\u5b58\u5728\u3002</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u89c1\u6211\u4eec\u7406\u60f3\u7684\u8bbe\u8ba1\u601d\u8def\uff1a</p> <ol> <li>\u54c8\u51fd\u6570\u9700\u8981\u5c06\u4e00\u4e2a\u8f83\u5927\u7684\u952e\u6620\u5c04\u5230\u4e00\u4e2a\u8f83\u5c0f\u7684\u503c\u57df\u91cc\u9762\uff0c\u8fd9\u9700\u8981\u6211\u4eec\u5728\u6027\u80fd\u4e0e\u51b2\u7a81\u7387\u4e0a\u6743\u8861</li> <li>\u6211\u4eec\u9700\u8981\u8003\u8651\u5982\u4f55\u5904\u7406\u952e\u7684\u51b2\u7a81\uff0c\u4ee5\u53ca\u5728\u7533\u8bf7**\u4e00\u4e2a\u8f83\u5927\u7684\u54c8\u5e0c\u8868**\u548c**\u7ef4\u6301\u8f83\u5c0f\u7684\u8868\u6240\u9700\u8981\u7684\u989d\u5916\u7684\u64cd\u4f5c**\u4e4b\u95f4\u6743\u8861</li> </ol>"},{"location":"metacourses/CMU%2015-445/lec5/#hash-functions","title":"Hash Functions","text":"<p>\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\uff0c\u6211\u4eec\u5e76\u4e0d\u5173\u5fc3\u54c8\u5e0c\u51fd\u6570\u7684\u4efb\u4f55\u4fdd\u62a4\u9690\u79c1\u673a\u5236\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u9700\u8981\u4f7f\u7528\u5177\u6709\u52a0\u5bc6\u6027\u8d28\u7684\u54c8\u5e0c\u7b97\u6cd5(e.g. SHA-256)\u3002\u6570\u636e\u5e93\u7cfb\u7edf\u66f4\u503e\u5411\u4e8e\u4f7f\u7528\u90a3\u4e9b\u6210\u719f\u7684\u54c8\u5e0c\u7b97\u6cd5\u3002\u4f8b\u5982\uff0c\u5e38\u89c1\u7684\u54c8\u5e0c\u7b97\u6cd5\u5982\u4e0b\uff1a</p> <ul> <li>CRC-64 (1975) \u2192 Used in networking for error detection. MurmurHash (2008) \u2192 Designed as a fast, general-purpose hash function.</li> <li>Google CityHash (2011) \u2192 Designed to be faster for short keys (&lt;64 bytes).</li> <li>Facebook XXHash (2012) \u2192 From the creator of zstd compression.</li> <li>Google FarmHash (2014) \u2192 Newer version of CityHash with better collision rates.</li> </ul>"},{"location":"metacourses/CMU%2015-445/lec5/#hash-schemes","title":"Hash Schemes","text":"<p>\u5728 Hash Schemes \u4e2d\uff0c\u6211\u4eec\u9700\u8981\u8ba8\u8bba\u7684\u662f\uff0c\u5728\u952e\u7ecf\u8fc7\u54c8\u5e0c\u51fd\u6570\u8f6c\u6362\u4e3a\u4e86\u6574\u6570\u540e\uff0c\u6211\u4eec\u8be5\u5982\u4f55\u5177\u4f53\u7684\u50a8\u5b58\u548c\u5904\u7406\u51b2\u7a81\uff1f</p>"},{"location":"metacourses/CMU%2015-445/lec5/#linear-probe-hashing","title":"Linear Probe Hashing","text":"<p>\u7ebf\u6027\u63a2\u6d4b\u7684\u601d\u8def\u975e\u5e38\u7b80\u5355\uff1a </p> <p>Single giant table of slots.</p> <p>Resolve collisions by linearly searching for the next free slot in the table.</p> <p>Linear Probing \u56fa\u7136\u7b80\u5355\uff0c\u4f46\u5f53**\u5220\u9664**\u7684\u65f6\u5019\u5c06\u4f1a\u975e\u5e38\u7684\u9ebb\u70e6\uff0c\u4f8b\u5982\uff1a  </p> <p>\u5f53\u6211\u4eec\u63d2\u5165C\u65f6\uff0c\u5148\u524d\u7531\u4e8eC\u4e0eA\u4f4d\u7f6e\u51b2\u7a81\uff0cC\u88ab\u6392\u5728\u4e86A\u7684\u4e0b\u4e00\u4e2a\uff1b\u5f53\u6211\u4eec\u5220\u9664C\u65f6\uff0c\u540c\u6837\u4e5f\u662f\u5220\u9664\u4e86A\u7684\u540e\u4e00\u4e2a\u4f4d\u7f6e\u3002\u4f46\u5f53\u6211\u4eec\u67e5\u8be2D\u65f6\uff0c\u6211\u4eec\u5c06\u4f1a\u67e5\u627e\u5230\u4e00\u4e2a\u7a7a\u69fd\u3002</p> <p>\u4e3a\u4e86\u5904\u7406\u8fd9\u6837\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u8981\u4e48\u901a\u8fc7 Reshashing , \u5373\u79fb\u52a8\u3001\u6574\u7406\u6240\u6709\u7684\u5143\u7d20\uff0c\u4f46\u8fd9\u6548\u7387\u76f8\u5f53\u5730\u4e0b\uff1b\u6216\u8005\u6211\u4eec\u989d\u5916\u8bbe\u8ba1\u4e00\u4e2a\u6807\u8bb0\uff0c\u6765\u8bb0\u5f55\u5df2\u7ecf\u5220\u9664\u8fc7\u6570\u636e\u7684\u7a7a\u7684\u69fd\u4f4d\u3002</p> <p>\u63a5\u4e0b\u6765\u9700\u8981\u89e3\u51b3\u7684\u95ee\u9898\u662f\u4e0d\u552f\u4e00\u7684\u952e\u503c\uff0c\u6211\u4eec\u9700\u8981\u5904\u7406\u5f53\u952e\u503c\u76f8\u540c\u7684\u65f6\u5019\u503c\u4e0d\u552f\u4e00\u7684\u60c5\u51b5\u3002</p> Separate Linked ListRedundant Keys <p>\u6211\u4eec\u53ef\u4ee5\u5c06\u54c8\u5e0c\u8868\u50a8\u5b58\u7684\u503c\u53d8\u4e3a\u4e00\u4e2a\u5217\u8868 (1) \uff0c\u5217\u8868\u5185\u5305\u542b\u6240\u6709\u7684\u53ef\u80fd\u7684\u503c\u3002</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u5176\u76f4\u63a5\u63d2\u5165\u5230\u8868\u683c\u4e2d\uff0c\u6309\u7167\u6b63\u5e38\u7684\u51b2\u7a81\u65b9\u6cd5\u6765\u89e3\u51b3(1)\uff0c\u8fd9\u4e5f\u662f\u7edd\u5927\u591a\u6570\u7684\u6570\u636e\u5e93\u7684\u65b9\u6cd5\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec5/#cuckoo-hashing","title":"Cuckoo Hashing","text":"<p>\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u7684\u90e8\u5206\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u5f15\u5165\u591a\u4e2a\u54c8\u5e0c\u51fd\u6570\u6765\u627e\u5230\u591a\u4e2a\u4f4d\u7f6e\u6765\u8fdb\u884c\u63d2\u5165\u64cd\u4f5c\u3002\u5373\uff0c\u5f53\u5f53\u524d\u7684\u54c8\u5e0c\u51fd\u6570\u7ed9\u51fa\u7684\u4f4d\u7f6e\u88ab\u5360\u7528\u65f6\uff0c\u6211\u4eec\u4f7f\u7528\u53e6\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\u7ed9\u51fa\u7684\u4f4d\u7f6e\uff0c\u76f4\u5230\u53ef\u4ee5\u88ab\u653e\u5165\u4e3a\u6b62(1)\u3002</p> <p>\u4e00\u4e2a\u663e\u7136\u7684\u95ee\u9898\u662f\uff0c\u5f53\u6211\u4eec\u7528\u5c3d\u6240\u6709\u7684\u54c8\u5e0c\u51fd\u6570\uff0c\u90fd\u65e0\u6cd5\u627e\u5230\u4e00\u4e2a\u5408\u9002\u7684\u4f4d\u7f6e\u65f6\uff0c\u8be5\u600e\u4e48\u5904\u7406\u51b2\u7a81\uff1f</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5148\u5c06\u5c31\u653e\u4e0d\u4e0b\u7684\u952e\uff0c\u8ba9\u5b83\u653e\u5165\u67d0\u4e2a\u4f4d\u7f6e\uff0c\u56e0\u4e3a\u5b83\u6ca1\u6709\u9009\u62e9\u53ef\u8a00\u4e86\uff1b\u6b64\u65f6\u6211\u4eec\u9700\u8981\u7ed9\u539f\u6765\u5728\u6b64\u5904\u7684\u4f4d\u7f6e\u7684\u503c\u91cd\u65b0\u627e\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5373\u8c03\u7528\u53e6\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\u6765\u770b\u770b\u6709\u6ca1\u6709\u5176\u4ed6\u7684\u9009\u62e9\uff1b\u6211\u4eec\u4e0d\u65ad\u56de\u6eaf\u76f4\u5230\u6240\u6709\u7684\u503c\u90fd\u5404\u5c31\u5176\u4f4d\u4e3a\u6b62\u3002</p> <p>\u8fd9\u91cc\u7684\u4f8b\u5b50\u53ef\u4ee5\u53c2\u89c1 \u7b2c\u4e03\u8bb2\u7684slides</p> <p>\u4f46\u662f\u8fd9\u91cc\u6211\u4eec\u53c8\u56de\u5230\u4e86\u6211\u4eec\u8bbe\u8ba1\u5b58\u50a8\u65f6\u7684\u4e00\u4e2a\u57fa\u672c\u7684\u539f\u5219\uff1a\u5e94\u8be5\u6700\u5927\u5316\u987a\u5e8f\u7684\u8bbf\u95ee\uff0c\u4f46\u8fd9\u91cc\u7684 Hashing \u7684\u8bbf\u95ee\u662f\u968f\u673a\u7684\u3002</p> <p>\u4e00\u4e2a\u6709\u8da3\u7684\u95ee\u9898\u662f\u53ef\u4ee5\u901a\u8fc7\u5e76\u884c\u8bbf\u95ee\u6765\u5b9e\u73b0\u5bf9\u591a\u4e2a\u4f4d\u7f6e\u7684\u540c\u65f6\u8bbf\u95ee\u5417\uff1fAndy\u7ed9\u51fa\u7684\u89e3\u91ca\u662f\u5bf9\u4e8eSIMD\u6216\u5411\u91cf\u5316\u7684\u67b6\u6784\uff0c\u8fd9\u4e5f\u8bb8\u662f\u6210\u7acb\u7684\uff1b\u4f46\u5982\u679c\u6211\u4eec\u4f7f\u7528\u591a\u4e2a\u7ebf\u7a0b\u6765\u5b9e\u73b0\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u5f80\u5f80\u5f97\u4e0d\u507f\u5931\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec5/#dynamic-hashing","title":"Dynamic Hashing","text":"<p>\u4e0a\u8ff0\u7684\u4e24\u4e2a\u65b9\u6848\uff0c\u65e0\u8bba\u662f Linear Probing \u4ea6\u6216\u662f Cuckoo Hashing \u90fd\u662f\u9759\u6001\u7684\uff1b\u6211\u4eec\u9700\u8981\u53bb\u77e5\u6653/\u9884\u4f30\u6574\u4e2a\u8868\u683c\u7684\u5927\u5c0f\uff0c\u5426\u5219\u6211\u4eec\u9700\u8981\u4e0d\u65ad\u5730 Rehashing/Rebuild \u6765\u9002\u5e94\u8868\u683c\u7684\u5927\u5c0f\u3002\u6211\u4eec\u671f\u671b\u4e00\u79cd\u52a8\u6001\u7684\u7ed3\u6784\uff0c\u80fd\u591f\u4ee5\u589e\u91cf\u7684\u65b9\u5f0f\u6765\u8c03\u6574\u54c8\u5e0c\u8868\u7684\u5927\u5c0f\uff0c\u540c\u65f6\u907f\u514d Rehashing \u7684\u60c5\u51b5\u3002</p> Chained HashingExtendible HashingLinear Hashing <p>\u5728 Chain Hashing \u4e2d\uff0c\u6211\u4eec\u5728\u540c\u4e00\u4f4d\u7f6e\u4e0d\u518d\u5c40\u9650\u4e8e\u5b58\u50a8\u540c\u4e00\u4e2a\u503c\u3002\u4f8b\u5982\u6211\u4eec\u53ef\u4ee5\u5b58\u50a8\u4e00\u4e2a\u94fe\u8868\u6307\u9488\uff0c\u5c06\u6240\u6709\u5177\u6709\u540c\u4e00\u54c8\u5e0c\u51fd\u6570\u7684\u503c\u90fd\u653e\u8fdb\u53bb\u3002</p> <p>\u6b64\u65f6\u63d2\u5165\u4e0e\u5220\u9664\u5c06\u53d6\u51b3\u4e8e\u6211\u4eec\u5b58\u50a8\u591a\u4e2a\u503c\u7684\u7ed3\u6784\uff0c\u57fa\u672c\u4e0a\u53d8\u4e3a\u4e86\u4e00\u4e2a\u7ebf\u6027\u67e5\u627e\u7684\u8fc7\u7a0b\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u5728\u4e8e\u6211\u4eec\u7684\u5b58\u50a8\u7ed3\u6784\u53ef\u4ee5\u91c7\u7528\u53d8\u957f\u7684\u7ed3\u6784\uff08e.g. vector\uff09\u800c\u4e0d\u4f1a\u5f71\u54cd\u5230\u8868\u683c\u7684\u5176\u4ed6\u90e8\u5206\u3002\u5e76\u4e14\u8fd9\u91cc\u6267\u884c\u7684\u662f\u987a\u5e8f\u7684\u8bbf\u95ee\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5728\u7ef4\u62a4\u6307\u9488\u7684\u540c\u65f6\uff0c\u4f7f\u7528 Bloom Filter\u6765\u5224\u65ad\u503c\u662f\u5426\u5b58\u5728\uff1b\u5982\u679c\u4e0d\u5b58\u5728\u5219\u53ef\u4ee5\u514d\u53bb\u4e00\u6b21\u7ebf\u6027\u7684\u67e5\u627e\u3002</p> <p>Extendible Hashing \u7684\u601d\u8def\u4e0e Chain Hashing \u51e0\u4e4e\u5b8c\u5168\u4e00\u81f4\uff0c\u552f\u4e00\u7684\u533a\u522b\u5728\u4e8e\u6211\u4eec\u5b58\u50a8\u6570\u636e\u7684 Bucket \u7684\u7ba1\u7406\u3002Extendible Hashing \u4e2d\u591a\u4e2a\u4f4d\u7f6e\u7684\u5b9e\u9645\u5b58\u50a8\u53ef\u80fd\u6307\u5411\u540c\u4e00\u4e2a Bucket\u3002\u5f53\u6211\u4eec\u9700\u8981\u91cd\u5efaHashing Table\u65f6\uff0c\u6211\u4eec\u5bf9\u8fd9\u4e9bBucket\u8fdb\u884c\u5206\u5272\u3001\u91cd\u6392\u3001\u589e\u52a0\u5927\u5c0f\u6765\u7ef4\u62a4\u6574\u4e2a\u8868\u683c\u3002</p> <p></p> <p>\u6211\u4eec\u9700\u8981\u7ef4\u62a4\u4e00\u4e2a\u5168\u5c40\u7684\u4f4d\u6570 N\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\u7ed9\u51fa\u7684\u503c\uff0c\u6211\u4eec\u89c2\u5bdf\u5176\u524d N \u4f4d\uff0c\u5c06\u5176\u5bf9\u5e94\u5230\u4e0d\u540c\u7684 Bucket \u4e0a\u3002\u5f53\u67d0\u4e2a Bucket \u88ab\u586b\u6ee1\u65f6\uff0c\u6211\u4eec\u9700\u8981\u6269\u5145\u5168\u5c40\u4f4d\u6570\uff0c\u7136\u540e\u65b0\u589e\u66f4\u591a\u7684 Bucket \u6765\u5bf9\u5e94\u65b0\u589e\u7684\u4f4d\u6570\uff1b\u540c\u65f6\u5408\u5e76\u4e00\u4e9b Bucket \u6765\u7ef4\u62a4\u539f\u6709\u4f4d\u6570\u4e0b\u7684\u60c5\u51b5\u3002</p> <p>Linear Hashing \u662f Prosgress\u6570\u636e\u5e93\u4f7f\u7528\u7684\u54c8\u5e0c\u65b9\u6cd5\u3002\u5b83\u7ef4\u62a4\u4e86\u4e00\u4e2a\u6307\u9488\uff0c\u7528\u4e8e\u6307\u5411\u4e0b\u4e00\u4e2a\u9700\u8981\u88ab\u5206\u88c2\u7684Bucket\u3002\u5f53\u4efb\u610f\u7684Bucket\u6ea2\u51fa\u65f6\uff0c\u6211\u4eec\u5c06\u6307\u9488\u6307\u5411\u7684Bucket</p> <p></p> <p>\u4f8b\u5982\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0cSplit Pointer\u6307\u5411\u4e860\uff0c\u6b64\u65f6\u6211\u4eec\u63d2\u5165 17 \u65f6\uff0cBucket 1 \u53d1\u751f\u4e86\u6ea2\u51fa\uff0c\u6240\u4ee5\u6211\u4eec\u6269\u5c55 Bucket 1 \u7684\u5927\u5c0f\uff0c\u7136\u540e\u5c06 Bucket 0\u5206\u88c2\u4e3a\u4e24\u4e2a\uff1b\u5177\u4f53\u7684\u5206\u88c2\u8fc7\u7a0b\u4e3a\u6309\u7167\u7b2c\u4e8c\u4e2a\u54c8\u5e0c\u51fd\u6570\u8fdb\u884c\u5206\u7c7b\u3002\u7136\u540e\u6211\u4eec\u5c06 Splite Pointer \u4e0b\u79fb\u4e00\u4f4d\u3002</p> <p>\u8fd9\u542c\u7740\u53cd\u76f4\u89c9\uff0c\u4f46\u5b9e\u9645\u4e0a\u6700\u7ec8\u4f1a\u8c03\u6574\u6bcf\u4e00\u4e2a Bucket \u7684\u5927\u5c0f\u4e3a\u5408\u9002\u7684\u503c\u3002</p> <p>Hash Table\u662f\u901f\u5ea6\u4e0e\u7075\u6d3b\u6027\u6743\u8861\u540e\u7684\u4e00\u4e2a\u7ed3\u679c\uff0c\u4f46\u6211\u4eec\u5c06\u4e0d\u4f1a\u5728\u5b9e\u9645\u7684\u5efa\u7acbindex\u7684\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u5b83\uff08\u5c3d\u7ba1\u90e8\u5206\u6570\u636e\u5e93\u7ed9\u4e88\u4e86\u5176\u652f\u6301\uff09\uff0c\u56e0\u4e3a\u5b83\u5e76\u4e0d\u652f\u6301\u524d\u7f00\u67e5\u627e\u3002\u800c\u8fd9\u5c06\u5728\u4e0b\u4e00\u8282 B+ Tree \u4e2d\u5f97\u5230\u89e3\u51b3\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec6/","title":"B+ Tree Index","text":""},{"location":"metacourses/CMU%2015-445/lec6/#b-tree-family","title":"B-Tree Family","text":"<p>\u5f53\u6211\u4eec\u8c08\u8bba\u5230 B+ \u6811\u65f6\uff0c\u5b9e\u9645\u4e0a\u6211\u4eec\u6307\u4ee3\u7684\u662f\u4e00\u7cfb\u5217\u7684\u884d\u751f\u6570\u636e\u7ed3\u6784\uff1a</p> <ul> <li>B-Tree (1971)</li> <li>B+Tree (1973)</li> <li>B*Tree (1977?)</li> <li>B\\(^{link}\\)-Tree (1981)</li> <li>B\u03b5-Tree (2003)</li> <li>Bw-Tree (2013)</li> </ul> B+\u6811\u4e3a\u4ec0\u4e48\u5f00\u5934\u4e3a B <p>B \u6811\u7684\u540d\u79f0\u6700\u65e9\u51fa\u73b0\u5728 The Ubiquitous B-Tree \u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u4f46\u5177\u4f53\u7684\u539f\u56e0\u4f5c\u8005 Bayer \u5e76\u6ca1\u6709\u7ed9\u51fa\uff1b\u4eba\u4eec\u4e00\u822c\u8ba4\u4e3a B \u4ee3\u8868 Balanced,Broad,Bushy,\u6216\u8005\u76f4\u63a5\u4ee5\u4f5c\u8005\u540d\u5b57\u9996\u5b57\u6bcd\u547d\u540d\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec6/#b-tree-structure","title":"B+ Tree Structure","text":"<p>Quote</p> <p>A B+ Tree is a self-balancing, ordered tree data structure that allows searches, sequential access,insertions, and deletions in O(log n). </p> <p></p> <p>\u4e0e ADS \u4e2d\u63d0\u53ca\u7684 B+ Tree \u4e0d\u540c\u90e8\u5206\u662f\uff1a</p> <ul> <li>\u5728\u6570\u636e\u5e93\u4e2d\u6211\u4eec\u7684Sibling Node\u4e4b\u95f4\u7ef4\u62a4\u4e86\u4e00\u4e2a\u94fe\u8868\u5f0f\u7684\u6307\u9488\uff1b\u8fd9\u610f\u5473\u7740\u6211\u4eec\u4e0d\u9700\u8981\u9012\u5f52\u5730\u56de\u5230\u4e0a\u4e00\u5c42\u6765\u5bfb\u627e\u4e0b\u4e00\u4e2a\u8282\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 Sibling Pointer \u76f4\u63a5\u5728\u53f6\u5b50ia\u8282\u70b9\u95f4\u987a\u5e8f\u7684\u8bbf\u95ee\uff08\u6211\u4eec\u5047\u8bbe\u53f6\u5b50\u7ed3\u70b9\u7684\u5b58\u50a8\u662f\u987a\u5e8f\u7684\uff09\uff0c\u8fd9\u6709\u5229\u4e8e\u6211\u4eec\u7684IO</li> </ul> <p></p> <ul> <li> <p>\u5728\u6570\u636e\u5e93\u4e2d B+-Tree \u7684\u53f6\u8282\u70b9\u4fdd\u5b58\u7684\u662f value/key  pairs \u7684\u683c\u5f0f,\u800c\u53f6\u8282\u70b9\u4e0e\u5185\u8282\u70b9\u5b58\u50a8\u7684\u503c\u4e0d\u540c\u3002</p> </li> <li> <p>\u6211\u4eec\u5c06\u5728\u53f6\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u6216\u6700\u540e\u4e00\u4e2a\u589e\u52a0\u54e8\u5175\u7a7a\u8282\u70b9\uff0c\u4f5c\u4e3a NULL \u5b58\u50a8\u7684\u5730\u65b9</p> </li> </ul> <p>\u5f53\u6211\u4eec\u6709\u4e86\u4e00\u4e2a B+Tree \u4f5c\u4e3a\u7d22\u5f15\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u8003\u8651\u53f6\u8282\u70b9\u7a76\u7adf\u653e\u4ec0\u4e48\uff1f</p> <ul> <li>#1 Record IDs \u53f6\u8282\u70b9\u4ec5\u4fdd\u5b58\u6307\u5411\u5b9e\u9645\u5b58\u50a8\u4f4d\u7f6e\u7684\u6307\u9488 (Prostgres,SQL Server,Oracle)</li> <li>#2 Tuple Data \u53f6\u8282\u70b9\u76f4\u63a5\u5b58\u50a8\u6211\u4eec\u7684\u503c (Index-Organized Storage) (SQLite,SQL Server,Oracle,MySQL)</li> </ul> <p>Selection Conditions</p> <p>B+Tree \u76f8\u5bf9\u4e8e Hash Table \u7684\u4e00\u4e2a\u663e\u8457\u4f18\u52bf\u662f\uff0c\u5b83\u5bf9\u4e8e\u67e5\u627e\u6761\u4ef6\u7684\u652f\u6301\u66f4\u52a0\u5e7f\u6cdb\u3002\u5bf9\u4e8e\u54c8\u5e0c\u8868\u800c\u8a00\uff0c\u6211\u4eec\u53ea\u80fd\u7ed9\u5b9a\u786e\u5b9a\u7684 key \u6765\u67e5\u627e\uff0c\u5373\u57fa\u4e8e\u7b49\u4e8e\u7684\u67e5\u627e\uff1b\u4f46\u5bf9\u4e8e B+ Tree \u800c\u8a00\uff0c\u6211\u4eec\u53ef\u4ee5\u652f\u6301\u5927\u4e8e\u3001\u5c0f\u4e8e\u7684\u67e5\u627e\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c \u524d\u7f00\u3001\u540e\u7f00\u3001\u751a\u81f3\u4e2d\u95f4\u90e8\u5206\u7684\u67e5\u627e\u3002\u66f4\u5177\u4f53\u800c\u8a00\uff0c\u5982\u679c\u6211\u4eec\u5728  \u4e0a\u5efa\u7acb\u4e86\u7d22\u5f15\uff0c\u90a3\u4e48\u6211\u4eec\u7684 B+ Tree \u53ef\u4ee5\u6267\u884c a=1 AND b=2 (\u6ca1\u6709 c), (b=2) \u7c7b\u578b\u7684\u67e5\u627e\u3002 <p>\u4f46\u4e0a\u8ff0\u7684\u67e5\u627e\u9700\u8981\u6211\u4eec\u5bf9\u4e8e\u5404\u4e2a\u5c5e\u6027\u6709\u4e00\u4e2a\u826f\u597d\u7684\u6392\u5e8f\uff08\u5373\u5177\u6709\u826f\u5e8f\u6027\uff09</p> <p> </p>"},{"location":"metacourses/CMU%2015-445/lec6/#index-in-databases","title":"Index In Databases","text":"<p>\u53e6\u4e00\u4e2a\u95ee\u9898\u5728\u4e8e\u6211\u4eec\u5efa\u7acb\u7d22\u5f15\u662f\u7531\u8c01\u6240\u51b3\u5b9a\u7684\uff1f\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u7531\u4f7f\u7528\u8005\u6765\u51b3\u5b9a\u5efa\u7acb\u54ea\u4e9b\u7d22\u5f15\uff1b\u4f46\u4eba\u4eec\u4e00\u76f4\u5728\u5c1d\u8bd5\u901a\u8fc7\u81ea\u52a8\u7684\u65b9\u5f0f\u6765\u5efa\u8bae\u5efa\u7acb\u54ea\u4e9b\u7d22\u5f15\u3002\u4e00\u822c\u800c\u8a00\uff0c\u6211\u4eec\u7684\u7d22\u5f15\u66f4\u591a\uff0c\u67e5\u8be2\u7684\u901f\u5ea6\u5c06\u4f1a\u52a0\u5feb\uff1b\u4f46\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u7684\u63d2\u5165\u3001\u5220\u9664\u7b49\u7684\u6210\u672c\u5c06\u4f1a\u589e\u52a0\uff08\u7d22\u5f15\u9700\u8981\u4e0e\u5b9e\u9645\u5185\u5bb9\u540c\u6b65\uff09..\u6240\u4ee5\u8fd9\u91cc\u5b58\u5728\u4e00\u4e2a\u6709\u8da3\u7684 Trade Off</p> <p>\u6700\u540e\u4e00\u4e2a\u95ee\u9898\u662f\u5173\u4e8e\u91cd\u590d\u7684\u952e\u503c:</p> <ul> <li> <p>Approach # 1 \u6700\u597d\u7684\u65b9\u6848\u5f53\u7136\u662f\u786e\u4fdd key \u7684\u4e0d\u91cd\u590d\u6027\uff1a\u6211\u4eec\u53ef\u4ee5\u5c06 Record ID \u52a0\u5165\u5230 key \u4e2d\uff0c\u8fd9\u6837\u6211\u4eec\u6240\u6709\u7684 Key \u5c06\u4f1a\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\u3002\u4f46\u7531\u4e8e\u6211\u4eec\u7684 B+Tree \u7684\u6027\u8d28\uff0c\u6211\u4eec\u4ecd\u7136\u80fd\u591f\u901a\u8fc7 key \u7684\u4e00\u90e8\u5206\u6765\u67e5\u627e\u6211\u4eec\u60f3\u8981\u7684\u503c\u3002</p> </li> <li> <p>Approach # 2 \u6211\u4eec\u5141\u8bb8\u53f6\u5b50\u7ed3\u70b9\u5305\u542b\u591a\u4e2a\u91cd\u590d\u7684\u503c\uff0c\u4f46\u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u7684\u72ec\u7acb\u503c\u7684\u6570\u91cf\u4fdd\u6301B+ Tree\u7684\u6027\u8d28\uff0c\u4f46\u8fd9\u6837\u7684\u7ed3\u6784\u66f4\u52a0\u96be\u7ef4\u62a4\u3002</p> </li> </ul> <p>\u518d\u6b21\u56de\u5230\u6700\u521d\u59cb\u7684\u5730\u65b9\uff0cB+ Tree \u8981\u6c42\u6211\u4eec\u7684\u5b58\u50a8\u7684key\u662f\u5177\u6709\u67d0\u79cd\u53ef\u6392\u5e8f\u6027\u7684\uff1b\u4f46\u90e8\u5206\u7684\u6570\u636e\u5e93\u652f\u6301 Clustered Indexes , \u8fd9\u662f\u4e00\u79cd\u6839\u636e Primary Key \u6765\u6392\u5e8f\u7684 Index\uff0c\u5373\u4f7f\u8fd9\u91cc\u7684\u5b58\u50a8\u7684\u503c\u672c\u8eab\u662f\u65e0\u5e8f\u7684\u3002\u8fd9\u6837\u7684Index\u80fd\u591f\u4fdd\u8bc1\u6211\u4eec\u5728\u8bbf\u95ee\u5404\u4e2aIndex\u65f6\u80fd\u591f\u6309\u7167\u78c1\u76d8\u5b58\u50a8\u7684\u987a\u5e8f\u6765\u904d\u5386\uff0c\u8fd9\u6837\u6700\u5927\u5316\u4e86\u987a\u5e8fIO</p> <p></p> <p>\u4f46\u5f53\u6211\u4eec\u6309\u7167\u5176\u4ed6\u7684\u987a\u5e8f\u8fdb\u884cIndex\u65f6\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u53d1\u73b0\u6211\u4eec\u9700\u8981\u8bbf\u95ee\u7684 Page ID \u7b49\u5e76\u4e0d\u552f\u4e00(\u4e71\u5e8f)\uff1b\u6240\u4ee5\u4e3a\u4e86\u4f18\u5316\u8bbf\u95ee\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u5148\u8bb0\u5f55\u6211\u4eec\u9700\u8981\u8bbf\u95ee\u7684 Page ID \uff08\u5b58\u5230\u67d0\u79cd buffer \u4e2d\uff09\uff0c\u5728\u6574\u4e2a Index \u5bfb\u627e\u5b8c\u6bd5\u540e\uff0c\u6309\u7167 Page ID Slot ID \u7b49\u6392\u5e8f\uff0c\u518d\u8fdb\u884c\u8bbf\u95ee\u3002\u8fd9\u79f0\u4e3a Index Scan Page Sorting</p>"},{"location":"metacourses/CMU%2015-445/lec6/#b-tree-design-choices-optimization","title":"B+ Tree Design Choices - Optimization","text":"<p>\u6211\u4eec\u4ecb\u7ecd\u4e86 B+ Tree \u7684\u5404\u4e2a\u6027\u8d28\u3001\u7ed3\u6784\uff1b\u4f46\u4ecd\u9700\u8ba8\u8bba\u4e00\u4e2a\u95ee\u9898\uff1a\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u7684 B+ Tree \u5b9e\u9645\u4e0a\u662f\u600e\u4e48\u6837\u7684\uff1f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u54ea\u4e9b\u65b9\u6cd5\u6765\u4f18\u5316\uff1f</p>"},{"location":"metacourses/CMU%2015-445/lec6/#node-size","title":"Node Size","text":"<p>\u8282\u70b9\u7684\u5927\u5c0f\u4e00\u822c\u7531\u8bbe\u5907\u7684\u5b58\u50a8\u901f\u5ea6\u7b49\u6765\u51b3\u5b9a\uff1a</p> <ul> <li>HDD: ~1MB</li> <li>SSD: ~10KB</li> <li>In-Memory: ~512B </li> </ul> <p>\u8282\u70b9\u8d8a\u5927\u3001\u66f4\u591a\u7684\u8bbf\u95ee\u5c06\u53d1\u751f\u5728\u53f6\u8282\u70b9\uff1b\u8282\u70b9\u8d8a\u5c0f\u3001\u6811\u8d8a\u9ad8\uff0c\u66f4\u591a\u7684\u8bbf\u95ee\u5c06\u53d1\u751f\u5728\u6839\u8282\u70b9\u3002\u8fd9\u4e0e\u6211\u4eec\u5728 ADS \u7684\u5e76\u884c\u7b97\u6cd5\u4e2d\u8ba8\u8bba\u7684 Trade Off \u76f8\u4f3c\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec6/#merge-threshold","title":"Merge Threshold","text":"<p>\u5e76\u975e\u6240\u6709\u7684\u6570\u636e\u5e93\u90fd\u5728\u534a\u6ee1\u7684\u65f6\u5019\u5408\u5e76\u3001\u5206\u88c2\u8282\u70b9\u3002\u8fd9\u548c\u6211\u4eec\u5728 ADS \u4e2d\u8ba8\u8bba\u8fc7\u7684 alpha Tree \u7684\u9608\u503c\u76f8\u4f3c\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5bb9\u5fcd\u4e00\u4e9b\u4e0d\u5e73\u8861\u7684\u60c5\u51b5\u6765\u6743\u8861 IO \u65b9\u9762\u7684\u8868\u73b0\u3002\u4f8b\u5982\u6211\u4eec\u53ef\u4ee5\u5728 69% \u6ee1\u65f6\u5206\u88c2\u3001\u5408\u5e76\u8282\u70b9\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec6/#varible-length-keys","title":"Varible-Length Keys","text":"<p>\u5bf9\u4e8e\u53ef\u4ee5\u53d8\u957f\u7684 keys ,\u6211\u4eec\u7684\u5904\u7406\u65b9\u6cd5\u4e0e\u4e4b\u524d\u5904\u7406\u53d8\u957f\u7c7b\u578b\u7684 attributes \u76f8\u7c7b\u4f3c\u3002</p> <ul> <li> <p>Approach #1: \u6211\u4eec\u5c06\u5b58\u50a8\u4e00\u4e2a\u6307\u5411\u5b9e\u9645\u5b58\u50a8 key \u7684\u6307\u9488 </p> <ul> <li>\u8fd9\u79cd\u65b9\u6cd5\u7684B+ Tree\u53c8\u88ab\u79f0\u4f5c T-Tree</li> <li>\u548c\u4e4b\u524d\u7684\u60c5\u51b5\u7c7b\u4f3c\uff0c\u7531\u4e8e\u8fd9\u79cd\u65b9\u6cd5\u4f1a\u5bfc\u81f4\u968f\u673a\u7684\u5b58\u50a8\u8bbf\u95ee\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u5b9e\u73b0\u91c7\u53d6\u4e86\u8fd9\u79cd\u65b9\u6cd5</li> </ul> </li> <li> <p>Approach #2: \u53d8\u957f\u7684\u8282\u70b9</p> <ul> <li>\u9700\u8981\u66f4\u590d\u6742\u7684\u5185\u5b58\u7ba1\u7406</li> </ul> </li> <li> <p>Approach #3: \u586b\u5145\u6210\u4e3a\u56fa\u5b9a\u957f\u5ea6</p> </li> <li> <p>Approach #4: Slots Idea</p> </li> </ul>"},{"location":"metacourses/CMU%2015-445/lec6/#intra-node-searches","title":"Intra-Node searches","text":"<p>\u5f53\u6211\u4eec\u83b7\u53d6\u4e86\u67d0\u4e00\u4e2a\u8282\u70b9\u540e\uff0c\u6211\u4eec\u8be5\u5982\u4f55\u83b7\u53d6/\u641c\u7d22\u5176\u5185\u90e8\u7684\u4fe1\u606f\uff1f\u4e0e ADS \u4e0d\u540c\u7684\u662f\uff0c\u6570\u636e\u5e93\u4e2d\u7684B+ Tree\u7684 Order \u53ef\u80fd\u4f1a\u975e\u5e38\u7684\u5927\uff0c\u6bcf\u4e2a\u8282\u70b9\u7684\u904d\u5386\u540c\u6837\u4f1a\u5f71\u54cd\u6548\u7387</p> <ul> <li>\u7ebf\u6027\u67e5\u627e: \u6211\u4eec\u5bf9 List \u4ece\u5934\u81f3\u5c3e\u904d\u5386\uff1b\u53ef\u4ee5\u4f7f\u7528 SIMD \u7684\u5411\u91cf\u5316\u6307\u4ee4\u6765\u52a0\u901f\u8fd9\u4e00\u8fc7\u7a0b</li> <li>\u4e8c\u5206\u67e5\u627e: \u6709\u5e8f\u6027\uff0c\u663e\u7136</li> <li>\u63d2\u503c\u67e5\u627e: \u7c7b\u4f3c\u4e8e\u6570\u503c\u5206\u6790\u4e2d\u7684\u63d2\u503c\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u90e8\u5206\u503c\u5efa\u7acb\u63d2\u503c\u516c\u5f0f\uff0c\u6765\u9884\u6d4b\u6211\u4eec\u60f3\u8981\u67e5\u627e\u7684\u503c\u7684\u4f4d\u7f6e\u3002\u8fd9\u5bf9\u4e8e\u5177\u6709\u4e00\u5b9a\u5206\u5e03\u89c4\u5f8b\u7684\u503c\u6709\u663e\u8457\u7684\u63d0\u5347\u3002</li> </ul>"},{"location":"metacourses/CMU%2015-445/lec6/#prefix-compression","title":"Prefix Compression","text":"<p> <p> </p> <p>\u6211\u4eec\u5bf9\u76f8\u540c\u7684\u524d\u7f00\u8fdb\u884c\u538b\u7f29\uff0c\u53ef\u4ee5\u51cf\u7701 IO \u4ee3\u4ef7\u5e76\u63d0\u5347\u6027\u80fd\uff08\u751a\u81f3\u8fdb\u4e00\u6b65\u5efa\u7acb\u7d22\u5f15\uff09</p>"},{"location":"metacourses/CMU%2015-445/lec6/#suffix-truncation","title":"Suffix Truncation","text":"<p> <p> </p> <p>\u53ea\u5b58\u50a8\u5bf9\u4e8e\u6211\u4eec\u7d22\u5f15\u6709\u6548\u7684\u524d\u7f00\uff1b\u4f46\u8fd9\u6837\u7684\u8bbe\u8ba1\u5bf9\u6211\u4eec\u7684\u589e\u5220\u5c06\u4f1a\u5e26\u6765\u66f4\u591a\u7684\u9ebb\u70e6\u3002\u4f8b\u5982\uff0c\u5f53\u6211\u4eec\u63d2\u5165\u65b0\u7684\u6570\u636e\u540e\uff0c\u6709\u53ef\u80fd\u539f\u6765\u7684\u524d\u7f00\u65e0\u6cd5\u6709\u6548\u7684\u6307\u5f15\u4e86\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec6/#bulk-insert","title":"Bulk Insert","text":"<p>\u7c7b\u4f3c\u4e8e\u5efa\u5806\u7684\u65b9\u6cd5\uff0c\u5bf9\u4e8e\u5df2\u6709\u7684\u6570\u636e\uff0c\u6211\u4eec\u6392\u5e8f\u540e\u81ea\u4e0b\u800c\u4e0a\u7684\u5efa\u7acb\u6574\u4e2a B+ Tree \uff0c\u800c\u514d\u53bb\u4f9d\u6b21\u63d2\u5165\u6240\u5e26\u6765\u7684\u65f6\u95f4\u3002</p> <p></p>"},{"location":"metacourses/CMU%2015-445/lec6/#lazy-mechanism-b-epsilon-tree","title":"Lazy Mechanism -&gt; B \\(\\epsilon\\) Tree","text":"<p>\u548c\u7ebf\u6bb5\u6811\u7b49\u6570\u636e\u7ed3\u6784\u7c7b\u4f3c\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5bf9\u4e8e\u589e\u5220\u7684\u64cd\u4f5c\u7684\u4ee3\u4ef7\u662f\u8f83\u4e3a\u9ad8\u6602\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u5f15\u5165\u65e5\u5fd7\u7c7b\u578b(log based)\u7684\u61d2\u64cd\u4f5c\u7684\u673a\u5236\uff1a\u5373\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u64cd\u4f5c\uff0c\u6211\u4eec\u5e76\u4e0d\u7acb\u5373\u6267\u884c\uff0c\u800c\u662f\u5c06\u5176\u653e\u5165\u4e00\u4e2a\u7f13\u51b2\u6c60\u3002\u5f53\u67e5\u8be2\u65f6\uff0c\u6211\u4eec\u5148\u5728\u7f13\u51b2\u6c60\u5185\u67e5\u627e\uff1b\u5f53\u7f13\u51b2\u6c60\u6ee1\u65f6\uff0c\u6211\u4eec\u5c06\u64cd\u4f5c\u4e0b\u653e\u5230\u5176\u5bf9\u5e94\u7684\u5b50\u8282\u70b9\u4e2d(\u5982\u679c\u662f\u53f6\u8282\u70b9\u5c31\u6267\u884c\u64cd\u4f5c)\u3002</p> <p></p>"},{"location":"metacourses/CMU%2015-445/lec7/","title":"Concurrency Control","text":"<p>\u6211\u4eec\u81f3\u4eca\u8ba8\u8bba\u7684\u6240\u6709\u6570\u636e\u7ed3\u6784\u90fd\u662f\u57fa\u4e8e\u5355\u7ebf\u7a0b\u7684\u5047\u8bbe\uff0c\u4f46\u5bf9\u4e8e DBMS \u800c\u8a00\uff0c\u6211\u4eec\u6709\u65f6\u66f4\u9700\u8981\u591a\u7ebf\u7a0b\u7684\u8bbf\u95ee\u652f\u6301\u6765\u66f4\u597d\u7684\u5229\u7528\u73b0\u4ee3CPU\u591a\u6838\u7684\u7279\u70b9\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec7/#concurrency-control-protocol","title":"Concurrency Control Protocol","text":"<p>\u4e3a\u4e86\u4f7f\u5f97\u5e76\u884c\u7684\u7ebf\u7a0b\u4fdd\u8bc1\u8bfb\u5199\u7684\u6b63\u786e\u6027\uff0c\u6211\u4eec\u9700\u8981\u9075\u5b88\u4e00\u4e2a\u7edf\u4e00\u7684 \u5e76\u53d1\u63a7\u5236\u534f\u8bae ,\u4f46\u8bbe\u8ba1\u5e76\u53d1i\u63a7\u5236\u534f\u8bae\u7684\u51c6\u5219\u53ef\u80fd\u5404\u4e0d\u76f8\u540c\u3002</p> <ul> <li> <p>Logical Correctness\uff1a \u7ebf\u7a0b\u80fd\u591f\u51c6\u786e\u7684\u8bfb\u53d6\u5b83\u671f\u671b\u8bfb\u53d6\u7684\u6570\u636e\u5417\uff1f</p> </li> <li> <p>Physical Correctness\uff1a\u6570\u636e\u5bf9\u8c61\u5185\u5728\u7684\u7269\u7406\u5b58\u50a8\u662f\u6b63\u786e\u7684\u5417\uff1f</p> </li> </ul> <p>Locks vs Latches</p> Locks Latches Seperate Transactions Workers Protect Database Contents In-Memory Data Structures During Entire Transactions Critical Sections Modes Shared, Exclusive, Update,Intention Read, Write Kept In Lock Manager Protected Data Structure <p>\u6211\u4eec\u7684 Latch \u5b58\u5728\u4e24\u79cd\u6a21\u5f0f:</p> <ul> <li>Read Mode : \u6240\u6709\u7684\u7ebf\u7a0b\u90fd\u53ef\u4ee5\u81ea\u7531\u7684\u8bfb\u53d6\u6570\u636e\uff0c\u56e0\u4e3a\u6b64\u65f6\u4e0d\u4f1a\u53d1\u751f\u51b2\u7a81\uff1b\u4efb\u4f55\u7ebf\u7a0b\u90fd\u53ef\u4ee5\u7533\u8bf7 Read Latch ,\u65e0\u8bba\u5176\u4ed6\u7ebf\u7a0b\u662f\u5426\u62e5\u6709Read Mode \u7684Latch</li> <li>Write Mode : \u4ec5\u6709\u4e00\u4e2a\u7ebf\u7a0b\u90fd\u53ef\u4ee5\u5199\u6570\u636e\uff1b\u5f53\u5176\u4ed6\u7ebf\u7a0b\u62e5\u6709\u67d0\u79cdMode \u7684 Latch\uff0c\u4efb\u4f55\u7ebf\u7a0b\u90fd\u4e0d\u53ef\u4ee5\u7533\u8bf7 Write Latch </li> </ul>"},{"location":"metacourses/CMU%2015-445/lec7/#latch-implementations","title":"Latch Implementations","text":"Test-and-Set Spin LatchBlocking OS MutexReader-Writer Latches <p>TAS \u7684\u6548\u7387\u8f83\u9ad8\uff0c\u4f46\u662f\u5176\u5bf9\u4e8e\u7f13\u5b58\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u53cb\u597d(1)\uff1b\u4e00\u4e2a\u5728C++\u4e2d\u5b9e\u73b0\u7684\u4f8b\u5b50\u662f<code>std::atomic&lt;T&gt;</code></p> <ol> <li>  \u8fd9\u91cc\u5b58\u5728\u4e00\u4e2a NUMA \u7684\u95ee\u9898\uff0c\u5373\u5982\u679c\u4e00\u4e2acpu\u60f3\u8bbf\u95ee\u53e6\u4e00\u4e2acpu\u7684\u7f13\u5b58\uff0c\u5c06\u4f1a\u5b58\u5728\u8f83\u5927\u7684\u5ef6\u8fdf</li> </ol> <pre><code>std::atomic_flag latch;\n\u22ee\nwhile (latch.test_and_set(\u2026)) {\n// Retry? Yield? Abort?\n}\n</code></pre> <p>\u8fd9\u91cc\u7684 Mutex \u4e92\u65a5\u9501\u662f\u6700\u6613\u5b9e\u73b0\u7684\u4e00\u79cd\uff08C++\u7684 ptread \u5df2\u7ecf\u5e2e\u4f60\u5b9e\u73b0\u4e86\uff09</p> <pre><code>std::mutex m;\n\u22ee\nm.lock();\n// Do something special...\nm.unlock();\n</code></pre> <p>\u4f46\u7531\u4e8eMutex\u7684\u5b9e\u73b0\u6709\u64cd\u4f5c\u7cfb\u7edf\u7684\u53c2\u4e0e\uff0c\u8fd9\u91cc\u7684Latch\u6548\u7387\u4f4e\u4e0b\u4e14\u4e0d\u53ef\u63a7\u3002</p> <p>\u8fd9\u91cc\u7684 Latch \u5141\u8bb8\u5e76\u884c\u7684\u8bfb\uff0c\u5e76\u4e14\u7ef4\u62a4\u4e00\u4e2a read/write \u7684\u4f18\u5148\u7ea7\u961f\u5217\u3002</p> <p></p> <p>\u4f8b\u5982\uff0c\u5728\u56fe\u4e2d\u7684\u4f8b\u5b50\u91cc\uff0c\u5f53Reader\u6301\u6709Latch\u65f6\uff08\u53ef\u4ee5\u6709\u591a\u4e2aReader\uff0c\u4f46\u662f\u6709\u4e00\u4e2a\u4e0a\u9650\uff09\uff0cWrite\u5c06\u4f1a\u5728\u961f\u5217\u4e2d\u7b49\u5f85\uff0c\u8d85\u51fa\u4e0a\u9650\u7684 Reader \u4e5f\u4f1a\u7b49\u5f85\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec7/#hash-table-latching","title":"Hash Table Latching","text":"<p>\u54c8\u5e0c\u8868\u4e0a\u7684 Latch \u975e\u5e38\u597d\u5b9e\u73b0\uff1a</p> <ul> <li> <p>\u6240\u6709\u7684\u7ebf\u7a0b\u5728\u54c8\u5e0c\u8868\u4e0a\u90fd\u6309\u7167\u540c\u4e00\u65b9\u5411\u6765\u904d\u5386\u548c\u67e5\u627e\uff08\u8fd9\u4fdd\u8bc1\u4e86\u7b2c\u4e8c\u6761\u6027\u8d28\uff09\u5e76\u4e14\u4e00\u6b21\u4ec5\u4f1a\u8bbf\u95ee\u540c\u4e00\u9875/\u69fd</p> </li> <li> <p>\u6b7b\u9501\u4e0d\u53ef\u80fd\u53d1\u751f</p> </li> </ul> <p>\u5982\u679c\u6211\u4eec\u9700\u8981\u8c03\u6574\u8868\u683c\u7684\u5927\u5c0f\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u5168\u5c40\u4e0a\u8bbe\u7f6e\u4e00\u4e2aWrite Latch\u5373\u53ef\u3002</p> <p>\u53e6\u4e00\u4e2a\u95ee\u9898\u662f\u6211\u4eec\u7684Latch\u7684\u7c92\u5ea6\u5e94\u8be5\u662f\u591a\u5c11\uff08\u5373\uff0c\u4e00\u4e2aLatch\u7a76\u7adf\u7ba1\u8f96\u591a\u5927\u7684\u8303\u56f4\uff1f\uff09</p> <ul> <li> <p>Page Latch</p> <p></p> </li> <li> <p>Slot Latch</p> <p></p> </li> </ul>"},{"location":"metacourses/CMU%2015-445/lec7/#b-tree-latching","title":"B+ Tree Latching","text":""},{"location":"metacourses/CMU%2015-445/lec7/#basic-algorithm","title":"Basic Algorithm","text":"<p>\u6211\u4eec\u5728B+\u6811\u4e0a\u7684\u534f\u8bae\u9700\u8981\u6ee1\u8db3\u652f\u6301\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u5bf9\u6570\u636e\u7ed3\u6784\u8fdb\u884c\u4fee\u6539/\u8bbf\u95ee</p> <ul> <li>\u83b7\u53d6\u7236\u8282\u70b9\u7684 Latch</li> <li>\u83b7\u53d6\u5b50\u8282\u70b9\u7684 Latch</li> <li>\u91ca\u653e\u7236\u8282\u70b9\u7684 Latch \u5982\u679c\u7236\u8282\u70b9\u5f53\u524d\u662f\u5b89\u5168\u7684</li> </ul> <p>\u4e00\u4e2a\u8282\u70b9\u662f\u5b89\u5168\u7684\u5f53\u524d\u4ec5\u5f53\u64cd\u4f5c\u540e\u5b83\u4e0d\u4f1a\u5206\u88c2\u6216\u8005\u5408\u5e76</p> <ul> <li>\u5bf9\u4e8e\u63d2\u5165\u800c\u8a00\uff0c\u8282\u70b9\u4e0d\u662f\u6ee1\u7684</li> <li>\u5bf9\u4e8e\u5220\u9664\u800c\u8a00\uff0c\u8282\u70b9\u6bd4\u534a\u6ee1\u591a</li> </ul> <p>\u6240\u4ee5\u5bf9\u4e8e\u8bfb\u64cd\u4f5c\u800c\u8a00\uff0c\u6211\u4eec\u9996\u5148\u5728\u5b50\u8282\u70b9\u4e0a\u83b7\u53d6Read Latch\uff0c\u7136\u540e\u91ca\u653e\u7236\u8282\u70b9\u7684Latch\uff0c\u76f4\u5230\u6211\u4eec\u627e\u5230\u6211\u4eec\u6240\u9700\u7684\u8282\u70b9\u4e3a\u6b62\u3002</p> <p>\u5bf9\u4e8e\u5199\u64cd\u4f5c\u800c\u8a00\uff0c\u6211\u4eec\u4ece\u6839\u8282\u70b9\u5f00\u59cb\u83b7\u53d6 Write Latch \uff0c\u7136\u540e\u68c0\u67e5\u5b50\u8282\u70b9\u662f\u5426\u662f\u5b89\u5168\u7684\uff0c\u5982\u679c\u662f\u5b89\u5168\u7684\uff0c\u6211\u4eec\u5c06\u91ca\u653e\u6240\u6709\u7956\u5148\u8282\u70b9\u7684Latch</p> <p>\u4f46\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5bf9\u4e8e\u6240\u6709\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u90fd\u9700\u8981\u5148\u83b7\u53d6\u6839\u8282\u70b9\u7684 Latch \u624d\u80fd\u591f\u8fdb\u884c\uff0c\u6b64\u65f6\u8fd9\u91cc\u4fbf\u6210\u4e3a\u591a\u7ebf\u7a0b\u7684\u4e00\u4e2a\u74f6\u9888\u3002\u6240\u4ee5\u6211\u4eec\u4e9f\u9700\u4e00\u4e2a\u6027\u80fd\u66f4\u597d\u7684 Latch \u7684\u534f\u8bae\u4e0e\u7b97\u6cd5\u6765\u4fdd\u8bc1\u591a\u7ebf\u7a0b\u80fd\u591f\u4ee5\u6700\u4f73\u7684\u6548\u7387\u8fdb\u884c\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec7/#better-optimization","title":"Better Optimization","text":"<p>Bayer and Schkolnick \u63d0\u51fa\u4e00\u4e2a\u66f4\u52a0\u2018\u4e50\u89c2\u2019\u7684\u7b97\u6cd5\u3002\u4e8b\u5b9e\u4e0a\uff0c\u7531\u4e8e\u6211\u4eec\u7684\u8282\u70b9\u5b58\u50a8\u5728\u9875\u4e0a\uff0c\u6240\u4ee5\u4e00\u4e2a\u8282\u70b9\u7684\u64cd\u4f5c\u5f80\u5f80\u4e0d\u4f1a\u53d1\u751f\u4efb\u4f55\u7684\u5206\u88c2/\u5408\u5e76\u3002</p> <p>\u5bf9\u4e8e\u8bfb\u64cd\u4f5c\u800c\u8a00\uff0c\u6ca1\u6709\u53d1\u751f\u6539\u53d8\uff1b\u5bf9\u4e8e\u5199\u64cd\u4f5c\u800c\u8a00\uff0c\u6211\u4eec\u603b\u662f\u4ee5\u8bfb\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u5185\u90e8\u8282\u70b9\uff1b\u800c\u4ee5\u5199\u7684\u65b9\u5f0f\u8bbf\u95ee\u53f6\u8282\u70b9\u3002\u5982\u679c\u6211\u4eec\u53d1\u73b0\u53f6\u8282\u70b9\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u4ece\u5934\u5f00\u59cb\u6309\u7167\u8bfb\u7684\u65b9\u5f0f\u91cd\u65b0\u8bbf\u95ee\u83b7\u53d6Latch\u3002</p>"},{"location":"metacourses/CMU%2015-445/lec7/#deadlock","title":"Deadlock","text":"<p>\u5f53\u6240\u6709\u7684\u7ebf\u7a0b\u90fd\u4ee5\u4ece\u4e0a\u5f80\u4e0b\u7684\u987a\u5e8f\u8bbf\u95ee\u65f6\uff0c\u6211\u4eec\u4e0d\u4f1a\u53d1\u751f\u4efb\u4f55\u7684\u6b7b\u9501\u7684\u60c5\u51b5\u3002\u4f46\u5982\u679c\u4e00\u4e2a\u7ebf\u7a0b\u4ece\u5144\u5f1f\u8282\u70b9\u8bbf\u95ee\u5462\uff1f</p> <p></p> <p>\u7531\u4e8e Latch \u5e76\u4e0d\u4fdd\u8bc1\u548c\u6b7b\u9501\u7684\u68c0\u6d4b\uff0c\u6240\u4ee5\u8fd9\u91cc\u552f\u4e00\u907f\u514d\u6b7b\u9501\u7684\u65b9\u6cd5\u662f\u66f4\u597d\u5730\u4ee3\u7801\u5b9e\u73b0\u3002\u53f6\u8282\u70b9\u7684\u5144\u5f1f\u8282\u70b9\u7684Latch\u83b7\u53d6\u9700\u8981\u652f\u6301\u4e00\u4e2a non-wait Mode \uff1a \u8fd9\u610f\u5473\u7740\u4efb\u4f55\u8bd5\u56fe\u4ece\u5144\u5f1f\u8282\u70b9\u83b7\u53d6 Latch \u7684\u8bf7\u6c42\u90fd\u4e0d\u4f1a\u7b49\u5f85\u3002\u5982\u679c\u4e00\u65e6\u6211\u4eec\u53d1\u73b0\u4ece\u5144\u5f1f\u8282\u70b9\u7684\u8bf7\u6c42 Latch \u5931\u8d25\u90fd\u4f1a\u5bfc\u81f4\u7ebf\u7a0b\u7ec8\u6b62\u6389\u81ea\u5df1\u3002</p> <p>\u4e8b\u5b9e\u4e0a\u5728\u8fd9\u91cc\u5b58\u5728\u66f4\u591a\u7684\u8003\u91cf\uff0c\u5f53\u6211\u4eec\u53d1\u73b0\u65e0\u6cd5\u4eceSibling \u8282\u70b9\u7533\u8bf7Latch\u7684\u65f6\u5019\uff0c\u6211\u4eec\u6709\u4e09\u79cd\u9009\u62e9\uff1a1. Wait 2. Kill itself 3. Kill Others \u5bf9\u4e8e\u7b2c\u4e00\u79cd\u9009\u62e9\uff0c\u6211\u4eec\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e00\u4e2aLatch\u5c06\u4f1a\u88ab\u5360\u6709\u591a\u4e45\uff0c\u8fd9\u5bf9\u4e8e\u6211\u4eec\u7684\u67e5\u8be2\u800c\u8a00\u662f\u5341\u5206\u4e0d\u5b89\u5168\u7684\uff08\u7528\u6237\u53ef\u80fd\u56e0\u6b64\u800c\u7b49\u5f85\u82e5\u5e72\u65f6\u95f4\uff09\u3002\u5bf9\u4e8e\u7b2c\u4e09\u79cd\u8003\u91cf\uff0c\u7531\u4e8e\u7ebf\u7a0b\u95f4\u5e76\u4e0d\u77e5\u9053\u5bf9\u65b9\u5728\u505a\u4ec0\u4e48\uff08\u4e5f\u8bb8\u64cd\u4f5c\u7cfb\u7edf\u77e5\u9053\uff0c\u4f46\u662f\u4efb\u4f55\u6d89\u53ca\u64cd\u4f5c\u7cfb\u7edf\u7684\u8c03\u5ea6\u90fd\u4e0d\u662f\u597d\u7684\u8bbe\u8ba1\uff09\uff0c\u6240\u4ee5\u8fd9\u6837\u968f\u610f\u5730\u64cd\u4f5c\u4e5f\u662f\u4e0d\u5b89\u5168\u7684\u3002</p> <p>\u56e0\u6b64\u6211\u4eec\u53ea\u5269\u4e0b\u4e86\u552f\u4e00\u7684\u9009\u62e9\uff1a\u56e0\u4e3a\u6211\u4eec\u53ea\u77e5\u9053\u81ea\u5df1\u5728\u505a\u4ec0\u4e48\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u80fd\u7ec8\u6b62\u81ea\u5df1\u8fd9\u4e2a\u8fdb\u7a0b\u3002\uff08\u4e5f\u8bb8\u8fd9\u91cc\u6d89\u53ca\u5230\u64cd\u4f5c\u7684\u56de\u6eda\uff09</p>"},{"location":"metacourses/CMU%2015-445/lec7/#conclusion","title":"Conclusion","text":"<p>\u8bbe\u8ba1\u4e00\u4e2a\u80fd\u591f\u5b89\u5168\u7684\u652f\u6301\u5e76\u884c\u64cd\u4f5c\u7684\u6570\u636e\u7ed3\u6784\u4e00\u76f4\u662f\u4e00\u4e2a\u201c\u81ed\u540d\u662d\u8457\u201d\u7684\u95ee\u9898\u3002\u6211\u4eec\u5728\u672c\u8282\u4e2d\u4ec5\u4ec5\u6d89\u53ca\u4e86B+\u6811\u4e0a\u7684\u4e00\u4e9b\u6280\u5de7\uff0c\u4e8b\u5b9e\u4e0a\u8fd8\u6709\u66f4\u591a\u66f4\u52a0\u9ad8\u7ea7\u3001\u7cbe\u5999\u7684\u6709\u5173 Tread-Safe \u7684\u6280\u5de7\u3002</p>"},{"location":"system/","title":"Systems","text":"<p>\u8fd9\u91cc\u662f\u6d59\u6c5f\u5927\u5b66\u7cfb\u7edf\u76f8\u5173\u8bfe\u7a0b\u7684\u7b14\u8bb0</p> <p>Outline</p> <ul> <li> \u6570\u636e\u5e93\u7cfb\u7edf</li> <li> \u4f53\u7cfb\u7ed3\u6784</li> </ul>"},{"location":"system/CA/intro2CA/","title":"Introduction to Computer Architecture","text":"<p>\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u6ce8\u91cd\u7684\u662f\u786c\u4ef6\u4e0e\u8f6f\u4ef6\u7684\u4ea4\u754c\u9762\uff1a</p> <p>What are covered in this class?</p> <ul> <li>How the hardware influence the software or program?</li> <li>What is the working and design principle of computer?</li> <li>The tradeoffs of different designs and ideas.</li> </ul> \u5206\u6570\u7ec4\u6210 <ul> <li>\u671f\u672b\u8003\u8bd5 40%</li> <li>\u4f5c\u4e1a     6%</li> <li>\u5c55\u793a     6%</li> <li>\u9879\u76ee    48%</li> </ul> <p>Contents</p> <ol> <li>Fundamentals of computer design</li> <li>Pipelining</li> <li>Memory Hierachy</li> <li>ILP</li> <li>DLP and TLP</li> </ol> <p>\u6211\u4eec\u5728\u5b9e\u8df5\u4e2d\u5f80\u5f80\u9075\u5faa\u8fd9\u6837\u7684\u89c4\u5f8b\uff1a\u4ece\u4e0a\u81f3\u4e0b\u7684\u6211\u4eec\u53ef\u4ee5\u5212\u5206\u4e3a\u4e0d\u540c\u5c42\u7ea7\u7684\u95ee\u9898\uff0c\u5176\u4e2d Runtime System(OS,VM,etc.)\u3001ISA\u3001Micro Architecture\u3001Logic \u56db\u4e2a\u90e8\u5206\u662f\u6700\u4e3a\u6311\u6218\u6027\u7684,\u4e5f\u662f\u6211\u4eec\u4f53\u7cfb\u7ed3\u6784\u671f\u671b\u53bb\u63a2\u7a76\u7684\u3002</p> <p> <p></p> <p></p> <p>What is computer architecture? \u66f4\u5177\u4f53\u7684\u800c\u8a00\uff0c\u6211\u4eec\u63a2\u7a76</p> <ul> <li>Difference with Instruction Set \u6307\u4ee4\u96c6</li> <li>Difference with Computer Organization \u8ba1\u7b97\u673a\u7684\u7ec4\u6210</li> <li>Difference with Computer Implementation \u8ba1\u7b97\u673a\u7684\u5b9e\u73b0</li> </ul>"},{"location":"system/CA/lec1/","title":"Fundamentals of Computer Design","text":""},{"location":"system/CA/lec1/#performance","title":"Performance","text":"<p>\u5f71\u54cd\u6027\u80fd\u7684\u51e0\u4e2a\u539f\u56e0\uff1a</p> <ul> <li>Architecture</li> <li>Hardware implementation</li> <li>Compiler for Architecture</li> <li>Operating System</li> </ul> <p>\u5bf9\u4e8e\u4e0d\u540c\u7684\u9700\u6c42\uff0c\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u4e0d\u540c\u7684\u8861\u91cf\u6027\u80fd\u7684\u6807\u51c6</p> <ul> <li>\u5bf9\u4e8e\u5355\u4e00\u7684\u7528\u6237\u800c\u8a00\uff0c\u6211\u4eec\u9700\u8981\u66f4\u5feb\u5730\u53cd\u5e94\u65f6\u95f4 Response Time<ul> <li>Latency \uff1a the time between the start and completion of an event</li> </ul> </li> <li>\u5bf9\u4e8e\u5927\u91cf\u6570\u636e\u800c\u8a00\uff0c\u6211\u4eec\u9700\u8981\u66f4\u5927\u7684\u541e\u5410\u91cf Throughput <ul> <li>Total work per unit time</li> </ul> </li> </ul>"},{"location":"system/CA/lec1/#execution-time","title":"Execution Time","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6267\u884c\u65f6\u95f4\u6765\u8861\u91cf\u6027\u80fd\uff1a$ Performance = \\frac{1}{Execution Time} $</p> <ul> <li>Elapsed time\uff1a\u603b\u7684\u6d88\u8017\u65f6\u95f4\uff0c\u5305\u62ec\u5404\u4e2a\u65b9\u9762</li> <li>CPU time: \u5728\u7ed9\u5b9a\u4efb\u52a1\u4e0a\u6d88\u8017\u7684\u65f6\u95f4<ul> <li>User Cpu Time : \u7528\u6237\u4f7f\u7528\u7684 Cpu \u65f6\u95f4</li> <li>System Cpu Time \uff1a \u7cfb\u7edf\u6d88\u8017\u7684 Cpu \u65f6\u95f4</li> </ul> </li> </ul> <p>Quote</p> <p>The main goal of architecture improvement is to improve the performance of the system.</p>"},{"location":"system/CA/lec1/#quantitative-approaches","title":"Quantitative approaches","text":"<p>Measuring Data Size \u8861\u91cf\u6570\u636e\u91cf\u5927\u5c0f</p> <ul> <li>bit: A sigle binary digit</li> <li>nibble: Four bits</li> <li>byte: Eight bits</li> <li>word: four bytes</li> <li>kibibyte: \\(2^{10}\\) bytes</li> </ul> <p>Formula for CPU performance</p> \\[CPU Execution Time = CPU Clock Cycles \\times Clock Peroid\\] \\[CPU Execution Time = CPU Clock Cycles \\times \\frac{1}{Clock Rate}\\] \\[CPU Time = InstructionCount \\times CPI \\times CLock Peroid\\] \\[CPU Time =\\frac {Instruction Count \\times CPI }{Clock Rate}\\] <p>Amdahl's Law</p> <p>\u963f\u59c6\u8fbe\u5c14\u5b9a\u5f8b\uff0c\u4e00\u4e2a\u8ba1\u7b97\u673a\u79d1\u5b66\u754c\u7684\u7ecf\u9a8c\u6cd5\u5219\u3002\u5b83\u4ee3\u8868\u4e86\u5904\u7406\u5668\u5e76\u884c\u8fd0\u7b97\u4e4b\u540e\u6548\u7387\u63d0\u5347\u7684\u80fd\u529b\u3002</p> \\[T_{improved} = \\frac{T_{affected}}{improvement factor} + T_{unaffected}\\]"},{"location":"system/databases/","title":"\u6570\u636e\u5e93\u7cfb\u7edf","text":"<p>Abstract</p> <p>\u8fd9\u91cc\u662f\u6d59\u6c5f\u5927\u5b66\u8bfe\u7a0b\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u7b14\u8bb0\u3002\u4f46\u662f\u7531\u4e8e\u7b14\u8005\u6b63\u5728\u5b66\u4e60\u53e6\u4e00\u95e8\u6570\u636e\u5e93\u8bfe\u7a0b CMU 15/445 \u6240\u4ee5\u8fd9\u91cc\u7684\u7b14\u8bb0\u53ef\u80fd\u968f\u7f18\u66f4\u65b0\uff08\u5495...\uff09</p>"},{"location":"system/databases/SQL/","title":"SQL \u57fa\u672c\u8bed\u6cd5\u4e0e\u4f7f\u7528","text":"<p>Example \u63d0\u793a</p> <p>\u5728\u672c\u8282\u7684\u4f8b\u5b50\u4e2d\u6211\u4eec\u4e3b\u8981\u7684\u60c5\u666f\u5efa\u7acb\u5728\u5982\u4e0b\u7684\u94f6\u884c\u4f8b\u5b50\u4e0a</p> <ul> <li>branch(branch-name, branch-city, assets) </li> <li>customer(customer-name, customer-street, customer-city) </li> <li>account(account-number, branch-name, balance) </li> <li>loan(loan-number, branch-name, amount) </li> <li>depositor(customer-name, account-number) </li> <li>borrower(customer-name, loan-number)</li> </ul> <p></p>"},{"location":"system/databases/SQL/#data-definition-language","title":"Data Definition Language","text":"<p>DDL \u5728\u6570\u636e\u5e93\u4e2d\u662f\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5e93\u7ed3\u6784\u4e0e\u6570\u636e\u5e93\u5bf9\u8c61(schema,domain,integrity constraints,physical storage,indices,view)\u7684\u8bed\u8a00\u3002\u5728DDL\u4e2d\u6211\u4eec\u4e3b\u8981\u901a\u8fc7 <code>CREATE DROP ALTER</code>\u4e09\u4e2a\u5173\u952e\u5b57\u6765\u589e/\u5220/\u6539\u3002</p>"},{"location":"system/databases/SQL/#domain-types","title":"Domain Types","text":"<p>Domain \u7528\u4e8e\u9650\u5b9a\u6570\u636e\u5e93\u4e2d\u5143\u7d20\u7684\u201c\u8303\u56f4\u201d</p> <ul> <li>char: \u5b9a\u957f\u7684\u5b57\u7b26\u4e32\uff08\u7528\u6237\u6307\u5b9a\uff09</li> <li>varchar: \u4e0d\u5b9a\u957f\u7684\u5b57\u7b26\u4e32\uff08\u7528\u6237\u6307\u5b9a\u6700\u5927\u957f\u5ea6\uff09</li> <li>int: \u6574\u6570\uff08\u5177\u4f53\u7684\u4f4d\u6570\u7531\u8fd0\u884c\u7684\u673a\u5668\u9650\u5236\uff09</li> <li>smallint: \u5c0f\u6574\u6570\uff08\u5177\u4f53\u7684\u4f4d\u6570\u7531\u8fd0\u884c\u7684\u673a\u5668\u9650\u5236\uff09</li> <li>numeric(p,d): \u56fa\u5b9a\u5c0f\u6570\u70b9\u7684\u5b9e\u6570\uff0c\u7531\u7528\u6237\u6307\u5b9a\u7cbe\u5ea6 p \u548c \u5c0f\u6570\u4f4d\u6570 d </li> <li>real,double precision: \u6d6e\u70b9\u6570\uff0c\u4e0eIEEE\u6807\u51c6\u76f8\u540c</li> <li>float(n)\uff1a\u56fa\u5b9a\u7cbe\u5ea6\u6d6e\u70b9\u6570</li> <li>Null valus: \u7a7a\u503c</li> <li>date/time/timestamp: \u65e5\u671f(2025-3-3)\u3001\u65f6\u95f4(18:45:02)\u3001\u65f6\u95f4\u6233(2025-3-3 18:45:02)</li> </ul> <p>\u5173\u4e8e\u8fd9\u4e9b Type \u7684\u5b9e\u73b0\uff0c\u4f60\u53ef\u4ee5\u5728 CMU 15/445 Database Storage \u4e2d\u67e5\u9605\u66f4\u591a\u7684\u7ec6\u8282\uff08\u5e95\u5c42\u7684\u5b9e\u73b0\u4e0e\u8003\u91cf\uff09</p> <p>\u8fd9\u91cc\u6211\u4eec\u989d\u5916\u8ba8\u8bba\u4e00\u4e0b NULL\u8fd9\u79cd\u7279\u6b8a\u7684\u7c7b\u578b\u3002NULL\u4e00\u822c\u7528\u4e8e\u53ea\u5e26\u672a\u77e5\u7684\u503c\u6216\u8005\u503c\u4e0d\u5b58\u5728\u3002</p> <ul> <li>\u4efb\u4f55\u5bf9\u4e8eNULL\u7684\u7b97\u672f\u8fd0\u7b97\u5c06\u4f1a\u8fd4\u8fd8NULL</li> <li>\u4efb\u4f55\u5bf9\u4e8eNULL\u7684\u6bd4\u8f83\u8fd0\u7b97\u5c06\u4f1a\u8fd4\u8fd8NULL</li> <li>\u5bf9\u4e8eNULL\u7684\u903b\u8f91\u8fd0\u7b97\u5982\u4e0b\uff1a<ul> <li>OR:  <ul> <li>(unknown or true) = true </li> <li>(unknown or false) = unknown </li> <li>(unknown or unknown) = unknown </li> </ul> </li> <li>AND:  <ul> <li>(true and unknown) = unknown </li> <li>(false and unknown) = false </li> <li>(unknown and unknown) = unknown </li> </ul> </li> <li>NOT: (not unknown) = unknown</li> </ul> </li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>IS NULL</code> \u6765\u68c0\u67e5\u662f\u5426\u662f\u7a7a\u503c\uff08\u8fd9\u91cc\u4e0d\u7528\u7b49\u53f7\uff0c\u56e0\u4e3a NULL = \uff1f \u6ca1\u6709\u610f\u4e49\uff09</p> <p>\u4f46\u662f\uff0c\u805a\u5408\u51fd\u6570\u4f1a\u76f4\u63a5\u5ffd\u7565\u6389\u6240\u6709\u7684\u7a7a\u503c</p>"},{"location":"system/databases/SQL/#tables","title":"Tables","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>CREATE Table name (Attr1 Domain1 Constraint1, ...)</code> \u6765\u521b\u5efa\u4e0d\u540c\u7684\u8868\u683c\u3002</p> <p>\u5176\u4e2d Constraint \u5305\u542b:</p> <ul> <li>Not null \u975e\u7a7a</li> <li>Primary key \u6307\u5b9a\u8fd9\u4e2a\u5c5e\u6027\u4e3a\u4e3b\u952e(\u5f53\u7136\u4e3b\u952e\u4e00\u5b9a\u975e\u7a7a)</li> <li>Check (P) \u8981\u6c42\u586b\u5165\u8868\u683c\u7684\u503c\u7b26\u5408\u8c13\u8bedP</li> </ul> <pre><code>CREATE TABLE branch2\n(\n    branch_name char(20) primary key,\n    branch_city char(30) not null, \n    assets      integer, \n    check (assets &gt;= 0)\n); \n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>DROP Table name</code> \u6765\u5220\u9664\u8868\u683c\u3002 <pre><code>DROP TABLE branch2;\nDROP TABLE bank.branch2;   #\u5220\u9664bank\u6570\u636e\u5e93\u4e2d\u7684branch2\u8868\u683c\n</code></pre></p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>ALTER Table name (Attr1 Domain1 Constraint1, ...)</code> \u6765\u4e3a\u8868\u683c\u589e\u52a0\u5c5e\u6027\uff1b<code>DROP Table name Attr1</code> \u6765\u4e3a\u8868\u683c\u5220\u9664\u5c5e\u6027\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>ALTER TABLE branch MODIFY (Attr1 Domain1 Constraint1, ...)</code> \u6765\u4fee\u6539\u8868\u683c\u7684\u5c5e\u6027\u3002</p>"},{"location":"system/databases/SQL/#index","title":"Index","text":"<p>Index\u7d22\u5f15\u662f\u901a\u8fc7\u5728\u90e8\u5206\u5c5e\u6027\u5efa\u7acb\u6570\u636e\u7ed3\u6784\uff08\u901a\u5e38\u662f HashTable \u4e0e B+Tree\uff09\u7684\u65b9\u6cd5\u6765\u589e\u5feb\u90e8\u5206\u6570\u636e\u7684\u67e5\u8be2\u901f\u5ea6(1)\u3002</p> <ol> <li>CMU 15/445 Hash Table Index \u548c CMU 15/445 B+Tree Index</li> </ol> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>CREATE</code> \u548c <code>DROP</code> \u6765\u589e\u52a0\u548c\u5220\u9664 INDEX</p> <pre><code>CREATE INDEX b_index ON branch (branch_name); \nCREATE INDEX cust_strt_city_index ON customer (customer_city, customer_street); \nDROP INDEX b_index; \n</code></pre>"},{"location":"system/databases/SQL/#data-manipulation-language","title":"Data Manipulation Language","text":""},{"location":"system/databases/SQL/#select-clause","title":"Select Clause","text":"<p>\u4ece\u67d0\u79cd\u610f\u4e49\u800c\u8a00 Select \u8bed\u53e5\u76f8\u5f53\u4e8e\u5173\u7cfb\u4ee3\u6570\u4e2d\u7684 \\(\\prod_{attr}\\)\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u76f4\u63a5\u901a\u8fc7\u5c5e\u6027\u7684\u540d\u5b57\u6765\u8fdb\u884c\u9009\u62e9\uff08\u9009\u62e9\u7684\u5185\u5bb9\u53ef\u4ee5\u662f\u67d0\u4e2a\u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u662f\u7ecf\u8fc7\u8fd0\u7b97\u7684\u7ed3\u679c\uff0c\u53ef\u4ee5\u662f\u67d0\u4e9b\u51fd\u6570...\uff09\uff1b\u53ef\u4ee5\u901a\u8fc7 DISTINCT \u5173\u952e\u5b57\u6765\u5bf9\u9009\u62e9\u7684\u5c5e\u6027\u8fdb\u884c\u53bb\u91cd\uff1b\u800c\u5173\u952e\u5b57 * \u5219\u4ee3\u8868\u6240\u6709\u5c5e\u6027\u3002 <pre><code>SELECT branch_name \nFROM loan ;\n\nSELECT distinct branch_name \nFROM loan ;\n</code></pre></p>"},{"location":"system/databases/SQL/#from-clause","title":"From Clause","text":"<p>FROM Clause\u53ef\u4ee5\u8868\u660e\u5728\u67e5\u8be2\u4e2d\u6d89\u53ca\u7684\u5173\u7cfb\uff08\u8fd9\u4e2a\u5173\u7cfb\u53ef\u4ee5\u662f\u5355\u5f20\u8868\u683c\u3001\u591a\u5f20\u8868\u683c\u3001\u751a\u81f3\u662f\u53e6\u4e00\u4e2a\u67e5\u8be2\u8fd0\u7b97\u7684\u7ed3\u679c\uff09\u3002\u5f53FROM\u9009\u5b9a\u591a\u4e2a\u8868\u683c\u65f6\uff0c\u53ef\u4ee5\u8868\u793a\u5b83\u4eec\u7684\u7b1b\u5361\u5c14\u79ef\uff0c\u4f8b\u5982<code>SELECT * FROM borrower, loan</code> \u5373\u4e3a \\(borrower \\times loan\\)</p> <p>Example</p> <p>Find the customer name, loan number and loan amount of all customers having a loan at the Perryridge branch. </p> <pre><code>SELECT customer_name, borrower.loan_number, amount \nFROM   borrower, loan \nWHERE  borrower.loan_number = loan.loan_number and \n            branch_name = \u2018Perryridge\u2019 \n</code></pre>"},{"location":"system/databases/SQL/#rename-option","title":"Rename Option","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>AS</code> \u5173\u952e\u5b57\u5bf9\u8868\u683c\u3001\u5c5e\u6027\u53d6\u4e00\u4e2a\u522b\u540d\u3002\u91cd\u547d\u540d\u7684\u64cd\u4f5c\u53ef\u4ee5\u51fa\u73b0\u5728\u591a\u4e2a\u5730\u65b9\uff1a\u53ef\u4ee5\u51fa\u73b0\u5728 Select \u4e2d\u4e3a\u5c5e\u6027\u91cd\u547d\u540d\uff1b\u53ef\u4ee5\u5728 From \u4e2d\u4e3a\u8868\u683c\u91cd\u547d\u540d...\u5176\u4e2d\uff0c\u5728From\u4ece\u53e5\u7684\u547d\u540d\u5c24\u4e3a\u91cd\u8981\uff0c\u5b83\u53ef\u4ee5\u7528\u4e8e\u5728\u6c42\u4e00\u4e2a\u8868\u683c\u4e0e\u81ea\u8eab\u7684\u7b1b\u5361\u5c14\u79ef\u4e2d\u6d88\u9664\u6b67\u4e49\u3002</p> <pre><code>SELECT customer_name, borrower.loan_number as loan_id, amount  \n    FROM borrower, loan \n    WHERE borrower.loan_number = loan.loan_number;\n\nSELECT customer_name, T.loan_number, S.amount \n   FROM borrower as T, loan as S \n   WHERE T.loan_number = S.loan_number ;\n\nSELECT distinct T.branch_name \n    FROM branch as T, branch as S \n    WHERE T.assets &gt; S.assets and S.branch_city = \u2018Brooklyn\u2019 ;\n</code></pre>"},{"location":"system/databases/SQL/#string-option","title":"String Option","text":"<p>\u7531\u4e8e\u4e0d\u540c\u7684DBMS\u5b9e\u73b0\u7684\u95ee\u9898\uff0c\u5728\u5b57\u7b26\u4e32\u4e0a\u7684\u64cd\u4f5c\u6709\u7740\u5f88\u5927\u7684\u4e0d\u540c\u3002\u4ec5\u5728\u5b57\u7b26\u4e32\u7684\u62fc\u63a5\u4e0a\uff0c\u5c31\u51fa\u73b0\u4e86 <code>+``||</code> <code>strcat</code> \u7b49\u591a\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u3002\u4f46\u603b\u4f53\u800c\u8a00\u4ed6\u4eec\u90fd\u6307\u4ee3\u7740\u540c\u4e00\u79cd\u529f\u80fd\u3002\u6240\u4ee5\u6211\u4eec\u4ee5\u8bfe\u4ef6\u4e0a\u4ecb\u7ecd\u7684\u4e3a\u51c6\u3002</p> <p>SQL\u63d0\u4f9b\u4e86\u5b57\u7b26\u4e32\u5339\u914d\u7684\u8fd0\u7b97\u7b26\uff0c\u7528\u4e8e\u5b57\u7b26\u4e32\u7684\u67e5\u627e(\u9700\u8981\u901a\u8fc7 LIKE \u5173\u952e\u5b57\u8fdb\u884c):</p> <ul> <li> <p>'%' \u53ef\u4ee5\u5339\u914d\u4efb\u610f\u7684\u5b50\u4e32 </p> </li> <li> <p>'_' \u53ef\u4ee5\u5339\u914d\u4efb\u610f\u7684\u5b57\u7b26</p> </li> </ul> <p>SQL\u4e2d\u53ef\u4ee5\u901a\u8fc7<code>||</code> \u8fdb\u884c\u5b57\u7b26\u4e32\u7684\u8fde\u63a5\uff1b\u53ef\u4ee5\u901a\u8fc7 <code>LOWER</code> \u548c <code>UPPER</code> \u8fdb\u884c\u5927\u5c0f\u5199\u7684\u8f6c\u6362\uff1b\u53ef\u4ee5\u901a\u8fc7 <code>SUBSTR(pos,len)</code> \u8fdb\u884c\u5b50\u4e32\u7684\u88c1\u526a\uff1b\u53ef\u4ee5\u901a\u8fc7 <code>LEN</code> \u6765\u67e5\u770b\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002</p>"},{"location":"system/databases/SQL/#order-by","title":"Order By","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ORDER \u5173\u952e\u5b57\u6765\u5b9e\u73b0\u6392\u5e8f\u3002\u6211\u4eec\u6240\u6307\u5b9a\u7684\u7c7b\u578b\u9700\u8981\u5177\u6709\u53ef\u6392\u5e8f\u7684\u6027\u8d28\u3002 \u6211\u4eec\u53ef\u4ee5\u6839\u636e\u591a\u4e2a\u5c5e\u6027\u8fdb\u884c\u6392\u5e8f\uff0c\u5373\u5f53\u5f53\u524d\u5c5e\u6027\u76f8\u540c\u65f6\uff0c\u6309\u7167\u4e0b\u4e00\u5c5e\u6027\u8fdb\u884c\u6392\u5e8f\uff1b\u540c\u65f6\u53ef\u4ee5\u5728\u5c5e\u6027\u540e\u52a0\u4e0a\u5173\u952e\u5b57 <code>DESC</code> \u6765\u8868\u660e\u8be5\u5c5e\u6027\u6309\u7167\u964d\u5e8f\u6392\u5e8f\u3002  <pre><code>SELECT distinct customer_name \n    FROM borrower A, loan B \n        WHERE A.loan_number = B.loan_number and \n             branch_name = \u2018Perryridge\u2019 \n    ORDER BY customer_name\uff1b\n\n\nSELECT * FROM customer \n    ORDER BY customer_city, customer_street desc, customer_name \n</code></pre></p>"},{"location":"system/databases/SQL/#set-operations","title":"Set Operations","text":"<p>\u5728 SQL \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 <code>UNION</code> \u6765\u6267\u884c \\(\\cup\\) \u64cd\u4f5c\uff1b\u53ef\u4ee5\u7528 <code>INTERSECT</code> \u6765\u6267\u884c \\(\\cap\\) \u64cd\u4f5c\uff1b\u53ef\u4ee5\u4f7f\u7528 <code>EXCEPT</code> \u6765\u6267\u884c <code>-</code> \u64cd\u4f5c\u3002\u4f46\u7531\u4e8e\u96c6\u5408\u7684\u6027\u8d28\uff0c\u8fd9\u4e09\u4e2a\u64cd\u4f5c\u4fdd\u8bc1\u4e00\u5b9a\u4f1a\u6d88\u9664\u76f8\u540c\u7684\u5143\u7ec4\u7684\u590d\u5236\u3002\u5f53\u6211\u4eec\u60f3\u8981\u4fdd\u7559\u6240\u6709\u7684\u5143\u7ec4\u7684\u590d\u5236\u65f6\uff0c\u6211\u4eec\u9700\u8981\u52a0\u4e0a<code>ALL</code>\u5173\u952e\u5b57\u6765\u4fdd\u8bc1\u5176\u4e0d\u4f1a\u6d88\u9664\u590d\u5236\u3002</p> <p>\u5728\u8fd9\u91cc\u540c\u6837\u5b58\u5728\u201c\u65b9\u8a00\u201d\u7684\u95ee\u9898\uff1aOracle\u901a\u8fc7 MINUS \u6765\u5b9e\u73b0 EXCEPT\uff1bSQL Server \u4ec5\u652f\u6301 UNION\u3002</p> <pre><code>(SELECT customer_name FROM depositor) \nUNION \n(SELECT customer_name FROM borrower) ;\n\n(SELECT customer_name FROM depositor) \nINTERSECT \n(SELECT customer_name FROM borrower) ;\n</code></pre>"},{"location":"system/databases/SQL/#aggregate-functions","title":"Aggregate Functions","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 Aggregate Functions \u5bf9\u8868\u683c\u4e2d\u7684\u5143\u7d20\u8fdb\u884c\u51fd\u6570\u64cd\u4f5c:</p> <ul> <li>avg(col): average value </li> <li>min(col): minimum value </li> <li>max(col): maximum value </li> <li>sum(col): sum of values </li> <li>count(col): number of values </li> </ul> <p>Warning</p> <p>\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u70b9\u662f\uff1a\u5f53\u6211\u4eec\u7684 SELECT \u4e2d\u540c\u65f6\u9009\u4e2d\u4e86\u8fd4\u56de\u5355\u4e00\u503c\u7684\u5bf9\u5217\u7684 Aggregate Function \u548c \u67d0\u4e00\u5217\u5c5e\u6027\u65f6\uff0c\u9700\u8981\u901a\u8fc7 GROUP BY \u6765\u4f7f\u5f97\u67e5\u8be2\u6709\u610f\u4e49\uff1b\u8fd9\u662f\u56e0\u4e3a\u8fd4\u56de\u5355\u4e00\u503c\u4e0e\u67d0\u4e00\u5217\u7684\u7ec4\u5408\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002</p> <pre><code>SELECT branch_name, avg(balance) avg_bal \n  FROM account \n  GROUP BY branch_name \n\nSELECT branch_name, count(customer_name) tot_num \n  FROM depositor, account \n  WHERE depositor.account_number=account.account_number \n  GROUP BY branch_name \n</code></pre> <p>GROUP BY \u8fd4\u56de\u7684\u503c\u540c\u6837\u53ef\u4ee5\u4f5c\u4e3a\u6211\u4eec\u7684\u9009\u62e9\u6761\u4ef6\u4e4b\u4e00\uff0c\u6b64\u65f6\u8fd9\u4e2a\u6761\u4ef6\u9700\u8981\u653e\u5230 HAVING \u4ece\u53e5\u4e2d\u3002\u6240\u6709\u7684\u805a\u5408\u51fd\u6570\u7684\u7ed3\u679c\u7684\u7b5b\u9009\u90fd\u9700\u8981\u653e\u5165 Having \u4e2d\uff0c\u56e0\u4e3a Having \u4ece\u53e5\u4ee3\u8868\u5bf9\u5206\u7ec4\u540e\u7684\u7ed3\u679c\u8fdb\u884c\u7b5b\u9009\uff1b\u800c Where \u8bed\u53e5\u4ee3\u8868\u5bf9\u5206\u7ec4\u524d\u7684\u6570\u636e\u8fdb\u884c\u7b5b\u9009\u3002</p>"},{"location":"system/databases/SQL/#conclusion","title":"Conclusion","text":"<p>\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u6267\u884c\u4e00\u4e2a SELECT \u67e5\u8be2\u7684\u987a\u5e8f\u4e3a\uff1a</p> <p><code>FROM \u2192 WHERE \u2192 GROUP (AGGREGATE) \u2192 HAVING \u2192 SELECT \u2192 DISTINCT \u2192 ORDER BY</code></p>"},{"location":"system/databases/SQL/#_1","title":"Lec2 SQL\u8bed\u8a00","text":""},{"location":"system/databases/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/","title":"Lec1 \u5173\u7cfb\u6a21\u578b","text":""},{"location":"system/databases/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/#introduction-to-database-systems","title":"Introduction to Database Systems","text":"<ul> <li> <p>\u5bf9\u6570\u636e\u8bed\u4e49 (Data Semantics)\u7684\u62bd\u8c61\uff0c\u4ea7\u751f\u4e86\u5173\u7cfb\u6570\u636e\u6a21\u578b</p> </li> <li> <p>\u5bf9\u4e1a\u52a1\u903b\u8f91(Business Logic)\u7684\u62bd\u8c61\uff0c\u4ea7\u751f\u4e86\u4e8b\u52a1\u5904\u7406\u6a21\u578b</p> </li> </ul> <p>\u6570\u636e\u5e93\u662f\u5b58\u5728 \u5185\u90e8\u5173\u8054\u7684\u6570\u636e\u7684\u96c6\u5408\uff08e.g. Excel Table\uff09\uff0c\u800c\u6570\u636e\u5e93\u7cfb\u7edf\u662f \u7ba1\u7406\u6570\u636e\u5e93\u7684\u5de5\u5177\uff08e.g. MySQL,MiniSQL...\uff09\u8fd9\u4e24\u8005\u6709\u7740\u672c\u8d28\u7684\u533a\u522b\u3002</p> <p>\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u7279\u70b9</p> <ul> <li>Efficiency and scalability in data access.  \u6548\u7387\u4e0e\u53ef\u6269\u5c55\u6027</li> <li>Reduced application development time. \u51cf\u5c11\u5e94\u7528\u5f00\u53d1\u65f6\u95f4</li> <li>Data independence. \u6570\u636e\u72ec\u7acb\u6027</li> <li>Data integrity and security.  \u6570\u636e\u5b8c\u6574\u6027\u548c\u5b89\u5168\u6027</li> <li>Concurrent access and robustness. \u5e76\u53d1\u8bbf\u95ee\u548c\u7a33\u5065\u6027</li> </ul> <p>\u6570\u636e\u7684\u72ec\u7acb\u6027\u5305\u542b\u4e24\u4e2a\u65b9\u9762\uff1aPhysical Independence &amp; Logical Independence</p>"},{"location":"system/databases/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/#data-models","title":"Data Models","text":"<p>\u6570\u636e\u6a21\u578b\u662f\u4e00\u7ec4\u7528\u4e8e\u63cf\u8ff0\u6570\u636e\u7ed3\u6784\u3001\u6570\u636e\u5173\u7cfb\u3001\u6570\u636e\u8bed\u4e49\u3001\u6570\u636e\u7ea6\u675f\u7684\u6982\u5ff5</p> <p>\u5e38\u89c1\u7684\u6570\u636e\u6a21\u578b\u5305\u542b\uff1a</p> <ul> <li>\u5b9e\u4f53-\u5173\u7cfb\u6a21\u578b</li> <li>\u5173\u7cfb\u6a21\u578b</li> <li>\u9762\u5411\u5bf9\u8c61\u7684\u6a21\u578b</li> <li>Array / Matrix / Vectors \u6a21\u578b \uff08\u73b0\u5728\u591a\u7528\u4e8e\u673a\u5668\u5b66\u4e60\uff09</li> </ul>"},{"location":"system/databases/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/#relational-model","title":"Relational Model","text":""},{"location":"system/databases/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/#_1","title":"\u5173\u7cfb\u6a21\u578b\u7684\u7ed3\u6784","text":"<p>\u5173\u7cfb\u7684\u5b9a\u4e49: \u7ed9\u5b9a\u96c6\u5408 \\(D_1,D_2,D_3...D_n\\) \u5173\u7cfb \\(\\textbf{R}\\) \u5373\u4e3a\u7b1b\u5361\u5c14\u79ef \\(D_1 \\times D_2 \\times ... \\times D_n\\) \u7684\u4e00\u4e2a\u5b50\u96c6, \\(\\textbf{R}\\)\u4e2d\u7684\u4e00\u4e2a\u5143\u7d20\u79f0\u4e3a\u4e00\u4e2a\u5143\u7ec4(Tuple),\u800c\u4e00\u4e2a\u5143\u7ec4\u4e2d\u7684\u4e00\u4e2a\u5143\u7d20\u6210\u4e3a\u5c5e\u6027(Attribute)</p> <p>Attribute Types</p> <ul> <li>\u6bcf\u4e00\u4e2a Attribute \u6709\u4e00\u4e2a\u540d\u5b57</li> <li>Attribute \u7684\u53d6\u503c\u8303\u56f4\u6210\u4e3a\u503c\u57df\uff1b\u7279\u522b\u7684,\u7279\u6b8a\u503c null \u5c5e\u4e8e\u6bcf\u4e00\u4e2a\u503c\u57df</li> <li>Attribute \u5fc5\u987b\u662f\u539f\u5b50\u7684\uff08\u4e0d\u53ef\u5206\u5272\u7684\uff09</li> </ul> <p>\u5173\u7cfb\u6d89\u53ca\u4e24\u4e2a\u6982\u5ff5\uff1a \u5173\u7cfb\u6a21\u5f0f \u548c \u5173\u7cfb\u5b9e\u4f8b\u3002\u5173\u7cfb\u6a21\u5f0f(Schema)\u89c4\u5b9a\u4e86\u5173\u7cfb\u7684\u7ed3\u6784\uff08\u4f8b\u5982 Student-schema = (sid, name, sex, age, dept) \uff09\uff1b\u5173\u7cfb\u5b9e\u4f8b(Instance)\u662f\u4e00\u7ec4\u5b9e\u9645\u7684\u503c\u3002</p> <p>\u5143\u7ec4\u95f4\u7684\u987a\u5e8f\u662f\u4e0d\u91cd\u8981\u7684\uff08\u5b83\u4eec\u53ef\u4ee5\u4efb\u610f\u6392\u5217\uff09\uff0c\u540c\u4e00\u4e2a\u5173\u7cfb\u4e2d\u4e0d\u5b58\u5728\u5b8c\u5168\u76f8\u540c\u7684\u5143\u7ec4\u3002\uff08\u8fd9\u4e9b\u90fd\u662f\u96c6\u5408\u57fa\u672c\u7684\u6027\u8d28\uff09</p> <p>\u4e00\u4e2a\u6570\u636e\u5e93\u4e00\u822c\u4f1a\u5305\u542b\u591a\u4e2a\u5173\u7cfb\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u4ece\u6570\u636e\u4e2d\u63d0\u53d6\u5173\u7cfb\uff0c\u4f7f\u5f97\u6211\u4eec\u7684\u67e5\u8be2\u3001\u50a8\u5b58\u80fd\u591f\u88ab\u6700\u4f18\u5316\u3002</p> <pre><code>univ (instructor -ID, name, dept_name, salary,student_Id, ..) \n</code></pre> <p>\u4f8b\u5982\u5982\u4e0a\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u8fd9\u6837\u7684\u5173\u7cfb\u5b58\u5728\u8bf8\u591a\u7684\u95ee\u9898\uff1a</p> <ul> <li>\u4fe1\u606f\u7684\u91cd\u590d\uff1a\u4f8b\u5982\u4e24\u4e2a\u5b66\u751f\u53ef\u80fd\u4f1a\u6709\u540c\u4e00\u5bfc\u5e08</li> <li>\u9700\u8981 null \u503c\uff1a\u6709\u53ef\u80fd\u6709\u6ca1\u6709\u5bfc\u5e08\u7684\u5b66\u751f</li> </ul> <p>\u6211\u4eec\u671f\u671b\u6211\u4eec\u7684\u5173\u7cfb\u4e4b\u95f4\u662f\u6b63\u4ea4\u7684\uff0c\u5373\u901a\u8fc7\u6700\u5c11\u7684\u91cd\u590d\u4e0e\u4ee3\u4ef7\u6765\u8868\u793a\u4fe1\u606f</p> <p>Key \u952e</p> <ul> <li>\u4e00\u4e2a\u952e K \u662f super key \uff0c\u5f53\u4e14\u4ec5\u5f53 K \u80fd\u591f\u786e\u5b9a R \u4e2d\u6bcf\u4e00\u4e2a Tuple</li> <li> <p>\u4e00\u4e2a\u952e K \u662f candidate key \uff0c\u5f53\u4e14\u4ec5\u5f53 K \u80fd\u591f\u786e\u5b9a R \u4e2d\u6bcf\u4e00\u4e2a Tuple\uff0c\u4e14 K \u662f\u6700\u5c0f\u7684</p> </li> <li> <p>\u4e00\u4e2a\u952e K \u662f primary key \uff0c \u5f53\u4e14\u4ec5\u5f53 K \u662f candidate key \u800c\u4e14\u88ab\u7528\u6237\u663e\u5f0f\u7684\u6307\u5b9a</p> </li> <li>\u4e00\u4e2a\u952e K \u662f foreign key \uff0c \u5f53\u4e14\u4ec5\u5f53 K \u80fd\u591f\u786e\u5b9a\u7684\u53c2\u7167\u4e24\u4e2a\u5173\u7cfb</li> </ul>"}]}